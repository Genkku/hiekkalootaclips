{"version":3,"sources":["types/search.ts","common/localstorage.ts","components/common/channelAndAvatar/ChannelAndAvatar.tsx","components/favourites/Favourites.tsx","common/api.ts","components/common/radioCustom/RadioCustom.tsx","components/search/Suggestions.tsx","components/search/Search.tsx","state/reducer.ts","state/state.tsx","assets/logo-reddit.svg","components/common/loader/Loader.tsx","components/videoplayer/Player.tsx","components/logoMain/LogoMain.tsx","App.tsx","index.tsx"],"names":["searchType","apiTimePeriod","sortType","addFavourite","search","a","value","mode","subreddit","storedFavourites","JSON","parse","localStorage","getItem","itemIndex","findIndex","i","newFavourites","rank","baseUrl","axios","get","data","thisAvatar","avatar","concat","setItem","stringify","ChannelAndAvatar","src","name","parsedSrc","replace","defaultAvatar","className","width","undefined","alt","onError","e","target","errorHandler","Favourites","useState","favourites","setFavourites","favouritesVisible","setFavouritesVisible","loadFavourites","useCallback","favouritesRes","sort","b","slice","useEffect","document","querySelector","addEventListener","closest","scrollTo","top","handleFavouriteClick","handleRemove","filter","item","removeFavourite","to","title","onClick","size","length","map","day","getClips","after","query","timePeriod","response","error","status","message","statusText","getSuggestions","searchMode","RadioCustom","id","label","checked","onChange","type","htmlFor","Suggestions","suggestions","localSearch","Search","channel","hot","setLocalSearch","searchSuggestions","setSearchSuggestions","channelSuggestions","setChannelSuggestions","categorySuggestions","setCategorySuggestions","history","useHistory","updateSuggestions","category","formSubmit","preventDefault","push","handleSearchTypeChange","val","currentTarget","handleTimePeriodChange","handleSearchChange","handleSortChange","week","month","year","all","new","placeholder","disabled","setClips","clips","payload","setCurrentClip","clip","setClipIndex","clipIndex","updateClips","initialState","pagination","cursor","currentClip","video_url","comments_url","currentSearch","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","Loader","visible","Player","useContext","transition","setTransition","setError","loadingClips","setLoadingClips","params","useParams","getdata","nextClip","direction","clipsData","newClipIndex","loadMoreClips","console","log","clipsTotal","href","rel","redditLogo","autoPlay","controls","onEnded","onLoadedData","LogoMain","App","path","ReactDOM","render","StrictMode","action","getElementById"],"mappings":"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","file":"static/js/main.26cbed4f.chunk.js","sourcesContent":["export enum searchType {\n\tchannel = 'channel',\n\tcategory = 'category',\n\tsubreddit = 'subreddit',\n}\n\nexport interface searchClips {\n\tmode: searchType\n\tvalue: string\n\ttimePeriod: apiTimePeriod\n\tsort: sortType\n}\n\nexport enum apiTimePeriod {\n\tday = 'day',\n\tweek = 'week',\n\tmonth = 'month',\n\tyear = 'year',\n\tall = 'all',\n}\n\nexport enum sortType {\n\tnew = 'new',\n\ttop = 'top',\n\thot = 'hot',\n}\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\n\nexport const getFavourites = () => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst sortedFavourites = storedFavourites.sort((a: { rank: number }, b: { rank: number }) =>\n\t\ta.rank < b.rank ? 1 : -1\n\t)\n\n\treturn sortedFavourites.slice(0, 15)\n}\n\nexport const addFavourite = async (search: searchClips) => {\n\tif (search.value !== '' && search.mode !== searchType.subreddit) {\n\t\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\t\tconst itemIndex = storedFavourites.findIndex(\n\t\t\t(i: { search: searchClips; rank: number }) =>\n\t\t\t\ti.search.value === search.value && i.search.mode === search.mode\n\t\t)\n\t\tlet newFavourites\n\n\t\tif (itemIndex >= 0) {\n\t\t\tnewFavourites = storedFavourites\n\n\t\t\tnewFavourites[itemIndex].rank = newFavourites[itemIndex].rank + 1\n\t\t} else {\n\t\t\tconst baseUrl = `http://localhost:4000/api/twitch/suggestions/${search.mode}/${search.value}`\n\t\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\t\t\tconst thisAvatar = data[0].avatar !== '' ? data[0].avatar : ''\n\n\t\t\tnewFavourites = storedFavourites.concat({ search: search, rank: 0, avatar: thisAvatar })\n\t\t}\n\t\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n\t}\n}\n\nexport const removeFavourite = (search: searchClips) => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst newFavourites = storedFavourites.filter((item: { search: searchClips }) => {\n\t\tif (item.search.value === search.value && item.search.mode === search.mode) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn true\n\t})\n\n\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n}\n","import { FC } from 'react'\nimport './channelAndAvatar.scss'\n\ninterface Props {\n\tsrc: string\n\tname: string\n}\n\nconst ChannelAndAvatar: FC<Props> = ({ src, name }) => {\n\tconst parsedSrc = src?.replace('{width}', '50').replace('{height}', '67').replace('300x300', '50x50')\n\tconst defaultAvatar =\n\t\t'https://static-cdn.jtvnw.net/user-default-pictures-uv/cdd517fe-def4-11e9-948e-784f43822e80-profile_image-70x70.png'\n\n\tconst errorHandler = (e: any) => {\n\t\te.target.src = defaultAvatar\n\t}\n\n\treturn (\n\t\t<div className='channel-avatar-container'>\n\t\t\t<img\n\t\t\t\tclassName='channel-avatar'\n\t\t\t\twidth={30}\n\t\t\t\tsrc={parsedSrc !== undefined && parsedSrc !== '' ? parsedSrc : defaultAvatar}\n\t\t\t\talt={`${name} avatar`}\n\t\t\t\tonError={(e) => errorHandler(e)}\n\t\t\t/>\n\t\t\t{name}\n\t\t</div>\n\t)\n}\n\nexport default ChannelAndAvatar\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { getFavourites, removeFavourite } from 'src/common/localstorage'\nimport { apiTimePeriod, searchClips } from 'src/types/search'\nimport './favourites.scss'\nimport { HeartFillIcon, XCircleFillIcon, HomeFillIcon } from '@primer/octicons-react'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\n\nconst Favourites: FC = () => {\n\tconst [favourites, setFavourites] = useState<{ search: searchClips; rank: number; avatar: string }[]>([])\n\tconst [favouritesVisible, setFavouritesVisible] = useState(false)\n\n\tconst loadFavourites = useCallback(() => {\n\t\tconst favouritesRes = getFavourites()\n\n\t\tsetFavourites(favouritesRes)\n\t}, [])\n\n\tuseEffect(() => {\n\t\tloadFavourites()\n\t}, [loadFavourites])\n\n\tuseEffect(() => {\n\t\tdocument.querySelector('body')?.addEventListener('click', (e) => {\n\t\t\tconst target = e.target as Element\n\n\t\t\tif (!target.closest('.favourites-container')) {\n\t\t\t\tsetFavouritesVisible(false)\n\t\t\t\tdocument.querySelector('.favourites-bar')?.scrollTo({ top: 0 })\n\t\t\t}\n\t\t})\n\t}, [])\n\n\tconst handleFavouriteClick = () => {\n\t\tsetFavouritesVisible(false)\n\t\tdocument.querySelector('.favourites-bar')?.scrollTo({ top: 0 })\n\t}\n\n\tconst handleRemove = (search: searchClips) => {\n\t\tremoveFavourite(search)\n\t\tloadFavourites()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{favourites && (\n\t\t\t\t<aside className={`favourites-bar ${favouritesVisible === true ? 'is-visible' : ''}`}>\n\t\t\t\t\t<div className='favourites-container'>\n\t\t\t\t\t\t<h5 className='title-lg'>\n\t\t\t\t\t\t\t<Link to='/' title='Homepage' onClick={handleFavouriteClick}>\n\t\t\t\t\t\t\t\t<HomeFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t\t<span className='title-text'>Homepage</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button className='title-lg' onClick={() => setFavouritesVisible(!favouritesVisible)}>\n\t\t\t\t\t\t\t<HeartFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t<span className='title-text'>\n\t\t\t\t\t\t\t\tYour\n\t\t\t\t\t\t\t\t<br /> Favourites\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{favourites.length > 0 ? (\n\t\t\t\t\t\t\t<ul className='favourites-list'>\n\t\t\t\t\t\t\t\t{favourites.map(({ search, avatar }) => (\n\t\t\t\t\t\t\t\t\t<li className='favourites-item' key={search.value}>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto={`/${search.mode}/${apiTimePeriod.day}/${search.value}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleFavouriteClick}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={search.value} />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<button title='Remove Favourite' onClick={() => handleRemove(search)}>\n\t\t\t\t\t\t\t\t\t\t\t<XCircleFillIcon size={14} />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p className='favourites-empty'>After you seach for clips your favorites will show up here</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Favourites\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj, ResponseClips } from 'src/types/twitch'\nimport { addFavourite } from './localstorage'\n\nexport const getClips = async (search: searchClips, after?: string) => {\n\tlet query\n\n\tif (search.mode === searchType.subreddit) {\n\t\tquery = `http://localhost:4000/api/${search.mode}/livestreamfail?timeperiod=${search.timePeriod}&sort=${search.value}`\n\t} else {\n\t\tquery = `http://localhost:4000/api/twitch/${search.mode}/${search.value}?timeperiod=${search.timePeriod}`\n\t}\n\tif (after) query = `${query}&after=${after}`\n\ttry {\n\t\tconst { data }: { data: ResponseClips } = await axios.get(query)\n\t\tif (!after) addFavourite(search)\n\n\t\treturn data\n\t} catch ({ response }) {\n\t\treturn {\n\t\t\terror: {\n\t\t\t\tstatus: response.status,\n\t\t\t\tmessage: response.statusText,\n\t\t\t},\n\t\t}\n\t}\n}\n\nexport const getSuggestions = async (searchMode: searchType, query?: string) => {\n\tif (searchMode !== searchType.subreddit) {\n\t\tlet baseUrl = `http://localhost:4000/api/twitch/suggestions/${searchMode}/`\n\n\t\tif (query) baseUrl = `${baseUrl}${query}`\n\n\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\n\t\treturn data\n\t} else {\n\t\treturn false\n\t}\n}\n","import React, { FC } from 'react'\nimport './radioCustom.scss'\n\ninterface Props {\n\tid: string\n\tname: string\n\tlabel: string\n\tchecked: boolean\n\tvalue: string\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst RadioCustom: FC<Props> = ({ id, name, label, checked, value, onChange }) => {\n\treturn (\n\t\t<div className='radio-custom'>\n\t\t\t<input id={id} type='radio' name={name} checked={checked} value={value} onChange={onChange} />\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t</div>\n\t)\n}\n\nexport default RadioCustom\n","import { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport { searchClips } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport './suggestions.scss'\n\ninterface Props {\n\tsuggestions: AutocompleteObj[]\n\tlocalSearch: searchClips\n}\n\nconst Suggestions: FC<Props> = ({ suggestions, localSearch }) => {\n\treturn (\n\t\t<section className='suggestions-container'>\n\t\t\t<h2 className='title-lg'>Suggestions</h2>\n\t\t\t{suggestions.length > 0 ? (\n\t\t\t\t<ul className='suggestions-list'>\n\t\t\t\t\t{localSearch.mode && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{suggestions.map(({ avatar, name }) => (\n\t\t\t\t\t\t\t\t<li className='suggestions-item' key={name}>\n\t\t\t\t\t\t\t\t\t<Link to={`/${localSearch.mode}/${localSearch.timePeriod}/${name}`}>\n\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={name} />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<p className='no-suggestions'>\n\t\t\t\t\tNo suggestions found but you can still search using the button since not every user is in our\n\t\t\t\t\tdatabase.\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</section>\n\t)\n}\n\nexport default Suggestions\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { getSuggestions } from 'src/common/api'\nimport { apiTimePeriod, searchClips, searchType, sortType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport RadioCustom from '../common/radioCustom/RadioCustom'\nimport './search.scss'\nimport 'src/styles/button-generic.scss'\nimport Suggestions from './Suggestions'\n\nconst Search: FC = () => {\n\tconst [localSearch, setLocalSearch] = useState<searchClips>({\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.day,\n\t\tsort: sortType.hot,\n\t})\n\n\tconst [searchSuggestions, setSearchSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [channelSuggestions, setChannelSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [categorySuggestions, setCategorySuggestions] = useState<AutocompleteObj[]>([])\n\tconst history = useHistory()\n\n\tconst updateSuggestions = useCallback(async () => {\n\t\tif (localSearch.value.length > 0 && localSearch.mode !== searchType.subreddit) {\n\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode, localSearch.value)\n\n\t\t\tsuggestions && setSearchSuggestions(suggestions)\n\t\t} else {\n\t\t\tif (localSearch.mode === searchType.channel) {\n\t\t\t\tif (channelSuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(channelSuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetChannelSuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (localSearch.mode === searchType.category) {\n\t\t\t\tif (categorySuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(categorySuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetCategorySuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [categorySuggestions, channelSuggestions, localSearch.mode, localSearch.value])\n\n\tuseEffect(() => {\n\t\tupdateSuggestions()\n\t}, [updateSuggestions])\n\n\tconst formSubmit = async (e: React.MouseEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\tlet value = localSearch.value\n\n\t\tif (localSearch.mode === searchType.subreddit) value = localSearch.sort\n\n\t\thistory.push(`/${localSearch.mode}/${localSearch.timePeriod}/${value}`)\n\t}\n\n\tconst handleSearchTypeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as searchType\n\n\t\tsetLocalSearch({ ...localSearch, mode: val })\n\t}\n\n\tconst handleTimePeriodChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as apiTimePeriod\n\n\t\tsetLocalSearch({ ...localSearch, timePeriod: val })\n\t}\n\n\tconst handleSearchChange = async (e: React.FormEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value\n\t\tsetLocalSearch({ ...localSearch, value: val })\n\t}\n\n\tconst handleSortChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as sortType\n\n\t\tsetLocalSearch({ ...localSearch, sort: val })\n\t}\n\n\treturn (\n\t\t<div className='search-container'>\n\t\t\t<form>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Search Clips by</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-channel'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Channel'\n\t\t\t\t\t\tvalue={searchType.channel}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.channel}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-category'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Category/Game'\n\t\t\t\t\t\tvalue={searchType.category}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.category}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-lsf'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='LiveStreamFail'\n\t\t\t\t\t\tvalue={searchType.subreddit}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.subreddit}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Filter by Time</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-day'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Day'\n\t\t\t\t\t\tvalue={apiTimePeriod.day}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.day}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-week'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Week'\n\t\t\t\t\t\tvalue={apiTimePeriod.week}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.week}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-month'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Month'\n\t\t\t\t\t\tvalue={apiTimePeriod.month}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.month}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-year'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Year'\n\t\t\t\t\t\tvalue={apiTimePeriod.year}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.year}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-all'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='All'\n\t\t\t\t\t\tvalue={apiTimePeriod.all}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.all}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{localSearch.mode === searchType.subreddit && (\n\t\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t\t<h2 className='title-lg'>Sort by</h2>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-popular'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Popular Now'\n\t\t\t\t\t\t\tvalue={sortType.hot}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.hot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-top'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Votes'\n\t\t\t\t\t\t\tvalue={sortType.top}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.top}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-new'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Recent'\n\t\t\t\t\t\t\tvalue={sortType.new}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.new}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='input-main-search'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\tlocalSearch.mode === searchType.channel\n\t\t\t\t\t\t\t\t? 'Insert the channel name'\n\t\t\t\t\t\t\t\t: 'Insert the category/game name'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={localSearch.value}\n\t\t\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName='button-generic'\n\t\t\t\t\tonClick={formSubmit}\n\t\t\t\t\tdisabled={localSearch.value === '' && localSearch.mode !== searchType.subreddit}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</button>\n\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<Suggestions suggestions={searchSuggestions} localSearch={localSearch} />\n\t\t\t\t)}\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default Search\n","import { State, Action } from 'src/types/state'\nimport { searchClips } from 'src/types/search'\nimport { ResponseClip, ResponseClips } from 'src/types/twitch'\n\nexport const setClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'SET_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentClip = (clip: ResponseClip): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_CLIP',\n\t\tpayload: clip,\n\t}\n}\n\nexport const setClipIndex = (clipIndex: number): Action => {\n\treturn {\n\t\ttype: 'SET_CLIP_INDEX',\n\t\tpayload: clipIndex,\n\t}\n}\n\nexport const updateClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'UPDATE_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentSearch = (search: searchClips): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_SEARCH',\n\t\tpayload: search,\n\t}\n}\n\nexport const reducer = (state: State, action: Action): State => {\n\tswitch (action.type) {\n\t\tcase 'SET_CLIPS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\t\tcase 'SET_CURRENT_CLIP':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentClip: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CLIP_INDEX':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclipIndex: action.payload,\n\t\t\t}\n\n\t\tcase 'UPDATE_CLIPS':\n\t\t\tconst data = state.clips.data.concat(action.payload.data)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\tdata,\n\t\t\t\t\tpagination: {\n\t\t\t\t\t\tcursor: action.payload.pagination.cursor,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CURRENT_SEARCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSearch: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { createContext, useContext, useReducer } from 'react'\nimport { apiTimePeriod, searchType, sortType } from 'src/types/search'\nimport { Action, State } from 'src/types/state'\n\nconst initialState: State = {\n\tclips: {\n\t\tdata: [],\n\t\tpagination: {\n\t\t\tcursor: '',\n\t\t},\n\t},\n\tcurrentClip: {\n\t\ttitle: '',\n\t\tvideo_url: '',\n\t\tcomments_url: '',\n\t},\n\tclipIndex: -1,\n\tcurrentSearch: {\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.all,\n\t\tsort: sortType.hot,\n\t},\n}\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([initialState, () => initialState])\n\ntype StateProviderProps = {\n\treducer: React.Reducer<State, Action>\n\tchildren: React.ReactElement\n}\n\nexport const StateProvider: React.FC<StateProviderProps> = ({ reducer, children }: StateProviderProps) => {\n\tconst [state, dispatch] = useReducer(reducer, initialState)\n\n\treturn <StateContext.Provider value={[state, dispatch]}>{children}</StateContext.Provider>\n}\nexport const useStateValue = () => useContext(StateContext)\n","export default __webpack_public_path__ + \"static/media/logo-reddit.569e7461.svg\";","import React, { FC } from 'react'\nimport './loader.scss'\n\ninterface Props {\n\tvisible: string\n}\n\nconst Loader: FC<Props> = ({ visible }) => {\n\treturn <div className={`loader ${visible}`}>Loading...</div>\n}\n\nexport default Loader\n","import { FC, useCallback, useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { getClips } from 'src/common/api'\nimport { setClipIndex, setClips, setCurrentClip, setCurrentSearch, updateClips } from 'src/state/reducer'\nimport { useStateValue } from 'src/state/state'\nimport { searchClips } from 'src/types/search'\nimport { ChevronRightIcon, XIcon } from '@primer/octicons-react'\nimport redditLogo from '../../assets/logo-reddit.svg'\n\nimport './player.scss'\nimport 'src/styles/button-generic.scss'\n\nimport Loader from '../common/loader/Loader'\n\nconst Player: FC = () => {\n\tconst [{ clips, currentClip, clipIndex, currentSearch }, dispatch] = useStateValue()\n\tconst [transition, setTransition] = useState('loading')\n\tconst [error, setError] = useState(false)\n\tconst [loadingClips, setLoadingClips] = useState(false)\n\tconst params = useParams<searchClips>()\n\n\tuseEffect(() => {\n\t\tsetTransition('loading')\n\n\t\tconst getdata = async () => {\n\t\t\tdispatch(setClipIndex(0))\n\t\t\tdispatch(setCurrentSearch(params))\n\n\t\t\tconst data = await getClips(params)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tsetError(true)\n\t\t\t\tsetTransition('')\n\t\t\t} else {\n\t\t\t\tdispatch(setClips(data))\n\t\t\t\tdispatch(setCurrentClip(data.data[0]))\n\t\t\t}\n\t\t}\n\n\t\tgetdata()\n\n\t\treturn () => {\n\t\t\tdispatch(\n\t\t\t\tsetCurrentClip({\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tvideo_url: '',\n\t\t\t\t\tcomments_url: '',\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetTransition('loading')\n\t\t}\n\t}, [dispatch, params])\n\n\tconst nextClip = useCallback(\n\t\t(direction?: string) => {\n\t\t\tconst clipsData = clips.data\n\t\t\tconst newClipIndex = direction === 'prev' ? clipIndex - 1 : clipIndex + 1\n\n\t\t\t//Twitch pagination sometimes sends the same clip as the last in the payload and first in the next\n\t\t\tif (clipsData[clipIndex].video_url === clipsData[newClipIndex].video_url) {\n\t\t\t\tnextClip()\n\t\t\t} else {\n\t\t\t\tif (newClipIndex <= clips.data.length) {\n\t\t\t\t\tsetTransition('loading')\n\n\t\t\t\t\tdispatch(setCurrentClip(clipsData[newClipIndex]))\n\t\t\t\t\tdispatch(setClipIndex(newClipIndex))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[clipIndex, clips, dispatch]\n\t)\n\n\tconst loadMoreClips = useCallback(async () => {\n\t\tconst after = clips.pagination.cursor\n\t\tconsole.log('moreclips called')\n\t\tif (after !== '' && !loadingClips) {\n\t\t\tsetLoadingClips(true)\n\t\t\tconsole.log('loading clips')\n\t\t\tconst data = await getClips(currentSearch, after)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tconsole.log(data.error)\n\t\t\t} else {\n\t\t\t\tdispatch(updateClips(data))\n\t\t\t\tsetLoadingClips(false)\n\t\t\t}\n\t\t}\n\t}, [clips.pagination.cursor, currentSearch, dispatch, loadingClips])\n\n\tuseEffect(() => {\n\t\tconst clipsTotal = clips.data.length\n\t\t//Starts the Autoplay if the clips have been set and none has played yet\n\t\tif (clipsTotal > 0 && clipIndex === -1) {\n\t\t\tnextClip()\n\t\t}\n\n\t\t//When there are clips and the currentClip is reaching the last fetch more\n\t\t//------Todo - Increase Margin before deploy\n\t\tif (clipsTotal > 0 && clipIndex + 3 > clipsTotal) {\n\t\t\tloadMoreClips()\n\t\t}\n\t}, [clips, clipIndex, nextClip, loadMoreClips])\n\n\treturn (\n\t\t<>\n\t\t\t<div className='player-container'>\n\t\t\t\t{currentClip.video_url && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='video-controls'>\n\t\t\t\t\t\t\t<h4 className='title-lg'>{currentClip.title}</h4>\n\n\t\t\t\t\t\t\t<div className='right-container'>\n\t\t\t\t\t\t\t\t{currentClip.comments_url && (\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName='link-comments'\n\t\t\t\t\t\t\t\t\t\thref={`https://reddit.com${currentClip.comments_url}`}\n\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\trel='noreferrer'\n\t\t\t\t\t\t\t\t\t\ttitle='clip comments'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img className='' width='25' src={redditLogo} alt='reddit logo' />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-left'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip('prev')}\n\t\t\t\t\t\t\t\t\tdisabled={clipIndex <= 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-right'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip()}\n\t\t\t\t\t\t\t\t\tdisabled={clips.data.length <= clipIndex + 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tclassName={transition}\n\t\t\t\t\t\t\tsrc={currentClip.video_url}\n\t\t\t\t\t\t\tautoPlay={true}\n\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\tonEnded={() => nextClip()}\n\t\t\t\t\t\t\tonLoadedData={() => setTransition('')}\n\t\t\t\t\t\t\tonError={() => nextClip()}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{error && (\n\t\t\t\t\t<div className='error-container'>\n\t\t\t\t\t\t<XIcon size={48} />\n\t\t\t\t\t\t<p className='error-description'>\n\t\t\t\t\t\t\tWe couldn't find any clips for your Search.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe game/user might not exist or they might not have any clips in the selected period.\n\t\t\t\t\t\t\t<br /> Users that are currently suspended also have their clips disabled.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Link to='/' className='button-generic'>\n\t\t\t\t\t\t\tNew Search\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<Loader visible={transition} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Player\n","import React, { FC } from 'react'\nimport { DeviceCameraVideoIcon } from '@primer/octicons-react'\nimport './logoMain.scss'\nimport { Link } from 'react-router-dom'\n\nconst LogoMain: FC = () => {\n\treturn (\n\t\t<>\n\t\t\t<h1 className='logo-main'>\n\t\t\t\t<Link to='/'>\n\t\t\t\t\tClips <DeviceCameraVideoIcon size={36} /> Autoplay\n\t\t\t\t</Link>\n\t\t\t</h1>\n\t\t</>\n\t)\n}\n\nexport default LogoMain\n","import { Route, Switch } from 'react-router'\nimport Favourites from './components/favourites/Favourites'\nimport Search from './components/search/Search'\nimport Player from './components/videoplayer/Player'\nimport './styles/App.scss'\nimport LogoMain from './components/logoMain/LogoMain'\n\nconst App: React.FC = () => {\n\treturn (\n\t\t<>\n\t\t\t<Favourites />\n\t\t\t<main className='main-content'>\n\t\t\t\t<LogoMain />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/:mode/:timePeriod/:value?'>\n\t\t\t\t\t\t<Player />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport { reducer } from './state/reducer'\nimport { StateProvider } from './state/state'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<StateProvider reducer={reducer}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</StateProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}