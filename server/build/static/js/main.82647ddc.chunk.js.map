{"version":3,"sources":["types/search.ts","common/localstorage.ts","components/common/channelAndAvatar/ChannelAndAvatar.tsx","state/state.tsx","state/reducer.ts","components/favourites/Favourites.tsx","common/api.ts","components/common/radioCustom/RadioCustom.tsx","components/search/Suggestions.tsx","components/search/Search.tsx","assets/logo-reddit.svg","components/common/loader/Loader.tsx","components/videoplayer/Player.tsx","components/logoMain/LogoMain.tsx","App.tsx","index.tsx"],"names":["searchType","apiTimePeriod","sortType","getFavourites","JSON","parse","localStorage","getItem","sort","a","b","rank","slice","addFavourite","search","value","mode","subreddit","storedFavourites","itemIndex","findIndex","i","newFavourites","baseUrl","axios","get","data","thisAvatar","avatar","concat","setItem","stringify","ChannelAndAvatar","src","name","parsedSrc","replace","defaultAvatar","className","width","undefined","alt","onError","e","target","errorHandler","initialState","clips","pagination","cursor","currentClip","title","video_url","comments_url","clipIndex","currentSearch","channel","timePeriod","all","hot","favourites","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","useStateValue","useContext","setClips","type","payload","setCurrentClip","clip","setClipIndex","updateClips","setFavourites","Favourites","useState","favouritesVisible","setFavouritesVisible","loadFavourites","useCallback","favouritesRes","useEffect","document","querySelector","addEventListener","closest","scrollTo","top","handleFavouriteClick","handleRemove","filter","item","removeFavourite","to","onClick","size","length","map","day","getClips","after","query","response","error","status","message","statusText","getSuggestions","searchMode","RadioCustom","id","label","checked","onChange","htmlFor","Suggestions","suggestions","localSearch","Search","week","setLocalSearch","searchSuggestions","setSearchSuggestions","channelSuggestions","setChannelSuggestions","categorySuggestions","setCategorySuggestions","history","useHistory","updateSuggestions","category","formSubmit","preventDefault","push","handleSearchTypeChange","val","currentTarget","handleTimePeriodChange","handleSearchChange","handleSortChange","month","year","new","placeholder","disabled","Loader","visible","Player","transition","setTransition","setError","loadingClips","setLoadingClips","params","useParams","ReactGA","pageview","window","location","pathname","getdata","nextClip","direction","clipsData","newClipIndex","loadMoreClips","console","log","clipsTotal","href","rel","redditLogo","autoPlay","controls","onEnded","onLoadedData","LogoMain","initialize","createBrowserHistory","listen","action","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.82647ddc.chunk.js","sourcesContent":["export enum searchType {\n\tchannel = 'channel',\n\tcategory = 'category',\n\tsubreddit = 'subreddit',\n}\n\nexport interface searchClips {\n\tmode: searchType\n\tvalue: string\n\ttimePeriod: apiTimePeriod\n\tsort: sortType\n}\n\nexport enum apiTimePeriod {\n\tday = 'day',\n\tweek = 'week',\n\tmonth = 'month',\n\tyear = 'year',\n\tall = 'all',\n}\n\nexport enum sortType {\n\tnew = 'new',\n\ttop = 'top',\n\thot = 'hot',\n}\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\n\nexport const getFavourites = () => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst sortedFavourites = storedFavourites.sort((a: { rank: number }, b: { rank: number }) =>\n\t\ta.rank < b.rank ? 1 : -1\n\t)\n\n\treturn sortedFavourites.slice(0, 15)\n}\n\nexport const addFavourite = async (search: searchClips) => {\n\tif (search.value !== '' && search.mode !== searchType.subreddit) {\n\t\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\t\tconst itemIndex = storedFavourites.findIndex(\n\t\t\t(i: { search: searchClips; rank: number }) =>\n\t\t\t\ti.search.value === search.value && i.search.mode === search.mode\n\t\t)\n\t\tlet newFavourites\n\n\t\tif (itemIndex >= 0) {\n\t\t\tnewFavourites = storedFavourites\n\n\t\t\tnewFavourites[itemIndex].rank = newFavourites[itemIndex].rank + 1\n\t\t} else {\n\t\t\tconst baseUrl = `http://localhost:4000/api/twitch/suggestions/${search.mode}/${search.value}`\n\t\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\t\t\tconst thisAvatar = data[0].avatar !== '' ? data[0].avatar : ''\n\n\t\t\tnewFavourites = storedFavourites.concat({ search: search, rank: 0, avatar: thisAvatar })\n\t\t}\n\t\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n\t}\n}\n\nexport const removeFavourite = (search: searchClips) => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst newFavourites = storedFavourites.filter((item: { search: searchClips }) => {\n\t\tif (item.search.value === search.value && item.search.mode === search.mode) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn true\n\t})\n\n\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n}\n","import { FC } from 'react'\nimport './channelAndAvatar.scss'\n\ninterface Props {\n\tsrc: string\n\tname: string\n}\n\nconst ChannelAndAvatar: FC<Props> = ({ src, name }) => {\n\tconst parsedSrc = src?.replace('{width}', '50').replace('{height}', '67').replace('300x300', '50x50')\n\tconst defaultAvatar =\n\t\t'https://static-cdn.jtvnw.net/user-default-pictures-uv/cdd517fe-def4-11e9-948e-784f43822e80-profile_image-70x70.png'\n\n\tconst errorHandler = (e: any) => {\n\t\te.target.src = defaultAvatar\n\t}\n\n\treturn (\n\t\t<div className='channel-avatar-container'>\n\t\t\t<img\n\t\t\t\tclassName='channel-avatar'\n\t\t\t\twidth={30}\n\t\t\t\tsrc={parsedSrc !== undefined && parsedSrc !== '' ? parsedSrc : defaultAvatar}\n\t\t\t\talt={`${name} avatar`}\n\t\t\t\tonError={(e) => errorHandler(e)}\n\t\t\t/>\n\t\t\t{name}\n\t\t</div>\n\t)\n}\n\nexport default ChannelAndAvatar\n","import React, { createContext, useContext, useReducer } from 'react'\nimport { apiTimePeriod, searchType, sortType } from 'src/types/search'\nimport { Action, State } from 'src/types/state'\n\nconst initialState: State = {\n\tclips: {\n\t\tdata: [],\n\t\tpagination: {\n\t\t\tcursor: '',\n\t\t},\n\t},\n\tcurrentClip: {\n\t\ttitle: '',\n\t\tvideo_url: '',\n\t\tcomments_url: '',\n\t},\n\tclipIndex: -1,\n\tcurrentSearch: {\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.all,\n\t\tsort: sortType.hot,\n\t},\n\tfavourites: [],\n}\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([initialState, () => initialState])\n\ntype StateProviderProps = {\n\treducer: React.Reducer<State, Action>\n\tchildren: React.ReactElement\n}\n\nexport const StateProvider: React.FC<StateProviderProps> = ({ reducer, children }: StateProviderProps) => {\n\tconst [state, dispatch] = useReducer(reducer, initialState)\n\n\treturn <StateContext.Provider value={[state, dispatch]}>{children}</StateContext.Provider>\n}\nexport const useStateValue = () => useContext(StateContext)\n","import { State, Action } from 'src/types/state'\nimport { searchClips } from 'src/types/search'\nimport { favouritesType, ResponseClip, ResponseClips } from 'src/types/twitch'\n\nexport const setClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'SET_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentClip = (clip: ResponseClip): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_CLIP',\n\t\tpayload: clip,\n\t}\n}\n\nexport const setClipIndex = (clipIndex: number): Action => {\n\treturn {\n\t\ttype: 'SET_CLIP_INDEX',\n\t\tpayload: clipIndex,\n\t}\n}\n\nexport const updateClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'UPDATE_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentSearch = (search: searchClips): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_SEARCH',\n\t\tpayload: search,\n\t}\n}\n\nexport const setFavourites = (favourites: favouritesType[]): Action => {\n\treturn {\n\t\ttype: 'SET_FAVOURITES',\n\t\tpayload: favourites,\n\t}\n}\n\nexport const reducer = (state: State, action: Action): State => {\n\tswitch (action.type) {\n\t\tcase 'SET_CLIPS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\t\tcase 'SET_CURRENT_CLIP':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentClip: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CLIP_INDEX':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclipIndex: action.payload,\n\t\t\t}\n\n\t\tcase 'UPDATE_CLIPS':\n\t\t\tconst data = state.clips.data.concat(action.payload.data)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\tdata,\n\t\t\t\t\tpagination: {\n\t\t\t\t\t\tcursor: action.payload.pagination.cursor,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CURRENT_SEARCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSearch: action.payload,\n\t\t\t}\n\n\t\tcase 'SET_FAVOURITES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfavourites: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { getFavourites, removeFavourite } from 'src/common/localstorage'\nimport { apiTimePeriod, searchClips } from 'src/types/search'\nimport './favourites.scss'\nimport { HeartFillIcon, XCircleFillIcon, HomeFillIcon } from '@primer/octicons-react'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport { useStateValue } from 'src/state/state'\nimport { setFavourites } from 'src/state/reducer'\n\nconst Favourites: FC = () => {\n\tconst [{ favourites }, dispatch] = useStateValue()\n\tconst [favouritesVisible, setFavouritesVisible] = useState(false)\n\n\tconst loadFavourites = useCallback(() => {\n\t\tconst favouritesRes = getFavourites()\n\n\t\tdispatch(setFavourites(favouritesRes))\n\t}, [dispatch])\n\n\tuseEffect(() => {\n\t\tloadFavourites()\n\t}, [loadFavourites])\n\n\tuseEffect(() => {\n\t\tdocument.querySelector('body')?.addEventListener('click', (e) => {\n\t\t\tconst target = e.target as Element\n\n\t\t\tif (!target.closest('.favourites-container')) {\n\t\t\t\tsetFavouritesVisible(false)\n\t\t\t\tdocument.querySelector('.favourites-bar')?.scrollTo({ top: 0 })\n\t\t\t}\n\t\t})\n\t}, [])\n\n\tconst handleFavouriteClick = () => {\n\t\tsetFavouritesVisible(false)\n\t\tdocument.querySelector('.favourites-bar')?.scrollTo({ top: 0 })\n\t}\n\n\tconst handleRemove = (search: searchClips) => {\n\t\tremoveFavourite(search)\n\t\tloadFavourites()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{favourites && (\n\t\t\t\t<aside className={`favourites-bar ${favouritesVisible === true ? 'is-visible' : ''}`}>\n\t\t\t\t\t<div className='favourites-container'>\n\t\t\t\t\t\t<h5 className='title-lg'>\n\t\t\t\t\t\t\t<Link to='/' title='Homepage' onClick={handleFavouriteClick}>\n\t\t\t\t\t\t\t\t<HomeFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t\t<span className='title-text'>Homepage</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button className='title-lg' onClick={() => setFavouritesVisible(!favouritesVisible)}>\n\t\t\t\t\t\t\t<HeartFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t<span className='title-text'>\n\t\t\t\t\t\t\t\tYour\n\t\t\t\t\t\t\t\t<br /> Favourites\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{favourites.length > 0 ? (\n\t\t\t\t\t\t\t<ul className='favourites-list'>\n\t\t\t\t\t\t\t\t{favourites.map(({ search, avatar }) => (\n\t\t\t\t\t\t\t\t\t<li className='favourites-item' key={search.value}>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto={`/${search.mode}/${apiTimePeriod.day}/${search.value}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleFavouriteClick}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={search.value} />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<button title='Remove Favourite' onClick={() => handleRemove(search)}>\n\t\t\t\t\t\t\t\t\t\t\t<XCircleFillIcon size={14} />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p className='favourites-empty'>After you seach for clips your favorites will show up here</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Favourites\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj, ResponseClips } from 'src/types/twitch'\n\nexport const getClips = async (search: searchClips, after?: string) => {\n\tlet query\n\n\tif (search.mode === searchType.subreddit) {\n\t\tquery = `http://localhost:4000/api/${search.mode}/livestreamfail?timeperiod=${search.timePeriod}&sort=${search.value}`\n\t} else {\n\t\tquery = `http://localhost:4000/api/twitch/${search.mode}/${search.value}?timeperiod=${search.timePeriod}`\n\t}\n\tif (after) query = `${query}&after=${after}`\n\ttry {\n\t\tconst { data }: { data: ResponseClips } = await axios.get(query)\n\n\t\treturn data\n\t} catch ({ response }) {\n\t\treturn {\n\t\t\terror: {\n\t\t\t\tstatus: response.status,\n\t\t\t\tmessage: response.statusText,\n\t\t\t},\n\t\t}\n\t}\n}\n\nexport const getSuggestions = async (searchMode: searchType, query?: string) => {\n\tif (searchMode !== searchType.subreddit) {\n\t\tlet baseUrl = `http://localhost:4000/api/twitch/suggestions/${searchMode}/`\n\n\t\tif (query) baseUrl = `${baseUrl}${query}`\n\n\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\n\t\treturn data\n\t} else {\n\t\treturn false\n\t}\n}\n","import React, { FC } from 'react'\nimport './radioCustom.scss'\n\ninterface Props {\n\tid: string\n\tname: string\n\tlabel: string\n\tchecked: boolean\n\tvalue: string\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst RadioCustom: FC<Props> = ({ id, name, label, checked, value, onChange }) => {\n\treturn (\n\t\t<div className='radio-custom'>\n\t\t\t<input id={id} type='radio' name={name} checked={checked} value={value} onChange={onChange} />\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t</div>\n\t)\n}\n\nexport default RadioCustom\n","import { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport { searchClips } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport './suggestions.scss'\n\ninterface Props {\n\tsuggestions: AutocompleteObj[]\n\tlocalSearch: searchClips\n}\n\nconst Suggestions: FC<Props> = ({ suggestions, localSearch }) => {\n\treturn (\n\t\t<section className='suggestions-container'>\n\t\t\t<h2 className='title-lg'>Suggestions</h2>\n\t\t\t{suggestions.length > 0 ? (\n\t\t\t\t<ul className='suggestions-list'>\n\t\t\t\t\t{localSearch.mode && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{suggestions.map(({ avatar, name }) => (\n\t\t\t\t\t\t\t\t<li className='suggestions-item' key={name}>\n\t\t\t\t\t\t\t\t\t<Link to={`/${localSearch.mode}/${localSearch.timePeriod}/${name}`}>\n\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={name} />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<p className='no-suggestions'>\n\t\t\t\t\tNo suggestions found but you can still search using the button since not every user is in our\n\t\t\t\t\tdatabase.\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</section>\n\t)\n}\n\nexport default Suggestions\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { getSuggestions } from 'src/common/api'\nimport { apiTimePeriod, searchClips, searchType, sortType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport RadioCustom from '../common/radioCustom/RadioCustom'\nimport './search.scss'\nimport 'src/styles/button-generic.scss'\nimport Suggestions from './Suggestions'\n\nconst Search: FC = () => {\n\tconst [localSearch, setLocalSearch] = useState<searchClips>({\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.week,\n\t\tsort: sortType.hot,\n\t})\n\n\tconst [searchSuggestions, setSearchSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [channelSuggestions, setChannelSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [categorySuggestions, setCategorySuggestions] = useState<AutocompleteObj[]>([])\n\tconst history = useHistory()\n\n\tconst updateSuggestions = useCallback(async () => {\n\t\tif (localSearch.value.length > 0 && localSearch.mode !== searchType.subreddit) {\n\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode, localSearch.value)\n\n\t\t\tsuggestions && setSearchSuggestions(suggestions)\n\t\t} else {\n\t\t\tif (localSearch.mode === searchType.channel) {\n\t\t\t\tif (channelSuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(channelSuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetChannelSuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (localSearch.mode === searchType.category) {\n\t\t\t\tif (categorySuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(categorySuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetCategorySuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [categorySuggestions, channelSuggestions, localSearch.mode, localSearch.value])\n\n\tuseEffect(() => {\n\t\tupdateSuggestions()\n\t}, [updateSuggestions])\n\n\tconst formSubmit = async (e: React.MouseEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\tlet value = localSearch.value\n\n\t\tif (localSearch.mode === searchType.subreddit) value = localSearch.sort\n\n\t\thistory.push(`/${localSearch.mode}/${localSearch.timePeriod}/${value}`)\n\t}\n\n\tconst handleSearchTypeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as searchType\n\n\t\tsetLocalSearch({ ...localSearch, mode: val })\n\t}\n\n\tconst handleTimePeriodChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as apiTimePeriod\n\n\t\tsetLocalSearch({ ...localSearch, timePeriod: val })\n\t}\n\n\tconst handleSearchChange = async (e: React.FormEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value\n\t\tsetLocalSearch({ ...localSearch, value: val })\n\t}\n\n\tconst handleSortChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as sortType\n\n\t\tsetLocalSearch({ ...localSearch, sort: val })\n\t}\n\n\treturn (\n\t\t<div className='search-container'>\n\t\t\t<h2 className='text-intro'>\n\t\t\t\tWatch the best Twitch Clips from your favourite content creators without interruptions\n\t\t\t</h2>\n\t\t\t<form>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Search Clips by</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-channel'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Channel'\n\t\t\t\t\t\tvalue={searchType.channel}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.channel}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-category'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Category/Game'\n\t\t\t\t\t\tvalue={searchType.category}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.category}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-lsf'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='LiveStreamFail'\n\t\t\t\t\t\tvalue={searchType.subreddit}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.subreddit}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Filter by Time</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-day'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Day'\n\t\t\t\t\t\tvalue={apiTimePeriod.day}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.day}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-week'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Week'\n\t\t\t\t\t\tvalue={apiTimePeriod.week}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.week}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-month'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Month'\n\t\t\t\t\t\tvalue={apiTimePeriod.month}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.month}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-year'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Year'\n\t\t\t\t\t\tvalue={apiTimePeriod.year}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.year}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-all'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='All'\n\t\t\t\t\t\tvalue={apiTimePeriod.all}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.all}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{localSearch.mode === searchType.subreddit && (\n\t\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t\t<h2 className='title-lg'>Sort by</h2>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-popular'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Popular Now'\n\t\t\t\t\t\t\tvalue={sortType.hot}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.hot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-top'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Votes'\n\t\t\t\t\t\t\tvalue={sortType.top}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.top}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-new'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Recent'\n\t\t\t\t\t\t\tvalue={sortType.new}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.new}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='input-main-search'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\tlocalSearch.mode === searchType.channel\n\t\t\t\t\t\t\t\t? 'Insert the channel name'\n\t\t\t\t\t\t\t\t: 'Insert the category/game name'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={localSearch.value}\n\t\t\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName='button-generic'\n\t\t\t\t\tonClick={formSubmit}\n\t\t\t\t\tdisabled={localSearch.value === '' && localSearch.mode !== searchType.subreddit}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</button>\n\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<Suggestions suggestions={searchSuggestions} localSearch={localSearch} />\n\t\t\t\t)}\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default Search\n","export default __webpack_public_path__ + \"static/media/logo-reddit.569e7461.svg\";","import React, { FC } from 'react'\nimport './loader.scss'\n\ninterface Props {\n\tvisible: string\n}\n\nconst Loader: FC<Props> = ({ visible }) => {\n\treturn <div className={`loader ${visible}`}>Loading...</div>\n}\n\nexport default Loader\n","import { FC, useCallback, useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { getClips } from 'src/common/api'\nimport {\n\tsetClipIndex,\n\tsetClips,\n\tsetCurrentClip,\n\tsetCurrentSearch,\n\tsetFavourites,\n\tupdateClips,\n} from 'src/state/reducer'\nimport { useStateValue } from 'src/state/state'\nimport { searchClips } from 'src/types/search'\nimport { ChevronRightIcon, XIcon } from '@primer/octicons-react'\nimport redditLogo from '../../assets/logo-reddit.svg'\nimport ReactGA from 'react-ga'\n\nimport './player.scss'\nimport 'src/styles/button-generic.scss'\n\nimport Loader from '../common/loader/Loader'\nimport { addFavourite, getFavourites } from 'src/common/localstorage'\n\nconst Player: FC = () => {\n\tconst [{ clips, currentClip, clipIndex, currentSearch }, dispatch] = useStateValue()\n\tconst [transition, setTransition] = useState('loading')\n\tconst [error, setError] = useState(false)\n\tconst [loadingClips, setLoadingClips] = useState(false)\n\tconst params = useParams<searchClips>()\n\n\tuseEffect(() => {\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [params])\n\n\tuseEffect(() => {\n\t\tsetTransition('loading')\n\n\t\tconst getdata = async () => {\n\t\t\tdispatch(setClipIndex(0))\n\t\t\tdispatch(setCurrentSearch(params))\n\n\t\t\tconst data = await getClips(params)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tsetError(true)\n\t\t\t\tsetTransition('')\n\t\t\t} else {\n\t\t\t\tdispatch(setClips(data))\n\t\t\t\tdispatch(setCurrentClip(data.data[0]))\n\t\t\t\tawait addFavourite(params)\n\t\t\t\tconst favouritesRes = await getFavourites()\n\n\t\t\t\tdispatch(setFavourites(favouritesRes))\n\t\t\t}\n\t\t}\n\n\t\tgetdata()\n\n\t\treturn () => {\n\t\t\tdispatch(\n\t\t\t\tsetCurrentClip({\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tvideo_url: '',\n\t\t\t\t\tcomments_url: '',\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetTransition('loading')\n\t\t}\n\t}, [dispatch, params])\n\n\tconst nextClip = useCallback(\n\t\t(direction?: string) => {\n\t\t\tconst clipsData = clips.data\n\t\t\tconst newClipIndex = direction === 'prev' ? clipIndex - 1 : clipIndex + 1\n\n\t\t\t//Twitch pagination sometimes sends the same clip as the last in the payload and first in the next\n\t\t\tif (clipsData[clipIndex].video_url === clipsData[newClipIndex].video_url) {\n\t\t\t\tnextClip()\n\t\t\t} else {\n\t\t\t\tif (newClipIndex <= clips.data.length) {\n\t\t\t\t\tsetTransition('loading')\n\n\t\t\t\t\tdispatch(setCurrentClip(clipsData[newClipIndex]))\n\t\t\t\t\tdispatch(setClipIndex(newClipIndex))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[clipIndex, clips, dispatch]\n\t)\n\n\tconst loadMoreClips = useCallback(async () => {\n\t\tconst after = clips.pagination.cursor\n\t\tconsole.log('moreclips called')\n\t\tif (after !== '' && !loadingClips) {\n\t\t\tsetLoadingClips(true)\n\t\t\tconsole.log('loading clips')\n\t\t\tconst data = await getClips(currentSearch, after)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tconsole.log(data.error)\n\t\t\t} else {\n\t\t\t\tdispatch(updateClips(data))\n\t\t\t\tsetLoadingClips(false)\n\t\t\t}\n\t\t}\n\t}, [clips.pagination.cursor, currentSearch, dispatch, loadingClips])\n\n\tuseEffect(() => {\n\t\tconst clipsTotal = clips.data.length\n\t\t//Starts the Autoplay if the clips have been set and none has played yet\n\t\tif (clipsTotal > 0 && clipIndex === -1) {\n\t\t\tnextClip()\n\t\t}\n\n\t\t//When there are clips and the currentClip is reaching the last fetch more\n\t\t//------Todo - Increase Margin before deploy\n\t\tif (clipsTotal > 0 && clipIndex + 3 > clipsTotal) {\n\t\t\tloadMoreClips()\n\t\t}\n\t}, [clips, clipIndex, nextClip, loadMoreClips])\n\n\treturn (\n\t\t<>\n\t\t\t<div className='player-container'>\n\t\t\t\t{currentClip.video_url && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='video-controls'>\n\t\t\t\t\t\t\t<h4 className='title-lg'>{currentClip.title}</h4>\n\n\t\t\t\t\t\t\t<div className='right-container'>\n\t\t\t\t\t\t\t\t{currentClip.comments_url && (\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName='link-comments'\n\t\t\t\t\t\t\t\t\t\thref={`https://reddit.com${currentClip.comments_url}`}\n\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\trel='noreferrer'\n\t\t\t\t\t\t\t\t\t\ttitle='clip comments'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img className='' width='25' src={redditLogo} alt='reddit logo' />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-left'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip('prev')}\n\t\t\t\t\t\t\t\t\tdisabled={clipIndex <= 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-right'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip()}\n\t\t\t\t\t\t\t\t\tdisabled={clips.data.length <= clipIndex + 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tclassName={transition}\n\t\t\t\t\t\t\tsrc={currentClip.video_url}\n\t\t\t\t\t\t\tautoPlay={true}\n\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\tonEnded={() => nextClip()}\n\t\t\t\t\t\t\tonLoadedData={() => setTransition('')}\n\t\t\t\t\t\t\tonError={() => nextClip()}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{error && (\n\t\t\t\t\t<div className='error-container'>\n\t\t\t\t\t\t<XIcon size={48} />\n\t\t\t\t\t\t<p className='error-description'>\n\t\t\t\t\t\t\tWe couldn't find any clips for your Search.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe game/user might not exist or they might not have any clips in the selected period.\n\t\t\t\t\t\t\t<br /> Users that are currently suspended also have their clips disabled.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Link to='/' className='button-generic'>\n\t\t\t\t\t\t\tNew Search\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<Loader visible={transition} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Player\n","import React, { FC } from 'react'\nimport { DeviceCameraVideoIcon } from '@primer/octicons-react'\nimport './logoMain.scss'\nimport { Link } from 'react-router-dom'\n\nconst LogoMain: FC = () => {\n\treturn (\n\t\t<>\n\t\t\t<h1 className='logo-main'>\n\t\t\t\t<Link to='/'>\n\t\t\t\t\tClips <DeviceCameraVideoIcon size={36} /> Autoplay\n\t\t\t\t</Link>\n\t\t\t</h1>\n\t\t</>\n\t)\n}\n\nexport default LogoMain\n","import { Route, Switch } from 'react-router'\nimport Favourites from './components/favourites/Favourites'\nimport Search from './components/search/Search'\nimport Player from './components/videoplayer/Player'\nimport './styles/App.scss'\nimport LogoMain from './components/logoMain/LogoMain'\nimport ReactGA from 'react-ga'\nimport { createBrowserHistory } from 'history'\nimport { useEffect } from 'react'\n\nReactGA.initialize('UA-200630534-1')\nconst browserHistory = createBrowserHistory()\n\nbrowserHistory.listen((location, action) => {\n\tReactGA.pageview(location.pathname + location.search)\n})\n\nconst App: React.FC = () => {\n\tuseEffect(() => {\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [])\n\treturn (\n\t\t<>\n\t\t\t<Favourites />\n\t\t\t<main className='main-content'>\n\t\t\t\t<LogoMain />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/:mode/:timePeriod/:value?'>\n\t\t\t\t\t\t<Player />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport { reducer } from './state/reducer'\nimport { StateProvider } from './state/state'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<StateProvider reducer={reducer}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</StateProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}