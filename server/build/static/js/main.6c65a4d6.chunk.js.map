{"version":3,"sources":["types/search.ts","common/localstorage.ts","components/common/channelAndAvatar/ChannelAndAvatar.tsx","state/state.tsx","state/reducer.ts","components/sidebar/Sidebar.tsx","common/api.ts","components/common/radioCustom/RadioCustom.tsx","components/search/Suggestions.tsx","components/search/Search.tsx","assets/logo-reddit.svg","components/common/loader/Loader.tsx","components/videoplayer/Player.tsx","components/logoMain/LogoMain.tsx","App.tsx","index.tsx"],"names":["searchType","apiTimePeriod","sortType","getFavourites","JSON","parse","localStorage","getItem","sort","a","b","rank","slice","addFavourite","search","value","mode","subreddit","storedFavourites","itemIndex","findIndex","i","newFavourites","baseUrl","axios","get","data","thisAvatar","avatar","concat","setItem","stringify","ChannelAndAvatar","src","name","parsedSrc","replace","defaultAvatar","className","width","undefined","alt","onError","e","target","errorHandler","initialState","clips","pagination","cursor","currentClip","title","video_url","comments_url","clipIndex","currentSearch","channel","timePeriod","all","hot","favourites","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","useStateValue","useContext","setClips","type","payload","setCurrentClip","clip","setClipIndex","updateClips","setFavourites","Sidebar","useState","favouritesVisible","setFavouritesVisible","loadFavourites","useCallback","favouritesRes","useEffect","handleFavouriteClick","show","document","querySelector","scrollTo","top","body","style","overflow","handleRemove","filter","item","removeFavourite","to","onClick","size","length","map","day","getClips","after","query","process","response","error","status","message","statusText","getSuggestions","searchMode","RadioCustom","id","label","checked","onChange","htmlFor","Suggestions","suggestions","localSearch","Search","week","setLocalSearch","searchSuggestions","setSearchSuggestions","channelSuggestions","setChannelSuggestions","categorySuggestions","setCategorySuggestions","history","useHistory","updateSuggestions","category","formSubmit","preventDefault","push","handleSearchTypeChange","val","currentTarget","handleTimePeriodChange","handleSearchChange","handleSortChange","month","year","new","placeholder","disabled","Loader","visible","Player","transition","setTransition","setError","loadingClips","setLoadingClips","params","useParams","ReactGA","pageview","window","location","pathname","getdata","nextClip","direction","clipsData","newClipIndex","loadMoreClips","console","log","clipsTotal","href","rel","redditLogo","autoPlay","controls","onEnded","onLoadedData","LogoMain","initialize","createBrowserHistory","listen","action","App","path","require","config","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6c65a4d6.chunk.js","sourcesContent":["export enum searchType {\n\tchannel = 'channel',\n\tcategory = 'category',\n\tsubreddit = 'subreddit',\n}\n\nexport interface searchClips {\n\tmode: searchType\n\tvalue: string\n\ttimePeriod: apiTimePeriod\n\tsort: sortType\n}\n\nexport enum apiTimePeriod {\n\tday = 'day',\n\tweek = 'week',\n\tmonth = 'month',\n\tyear = 'year',\n\tall = 'all',\n}\n\nexport enum sortType {\n\tnew = 'new',\n\ttop = 'top',\n\thot = 'hot',\n}\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\n\nexport const getFavourites = () => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst sortedFavourites = storedFavourites.sort((a: { rank: number }, b: { rank: number }) =>\n\t\ta.rank < b.rank ? 1 : -1\n\t)\n\n\treturn sortedFavourites.slice(0, 15)\n}\n\nexport const addFavourite = async (search: searchClips) => {\n\tif (search.value !== '' && search.mode !== searchType.subreddit) {\n\t\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\t\tconst itemIndex = storedFavourites.findIndex(\n\t\t\t(i: { search: searchClips; rank: number }) =>\n\t\t\t\ti.search.value === search.value && i.search.mode === search.mode\n\t\t)\n\t\tlet newFavourites\n\n\t\tif (itemIndex >= 0) {\n\t\t\tnewFavourites = storedFavourites\n\n\t\t\tnewFavourites[itemIndex].rank = newFavourites[itemIndex].rank + 1\n\t\t} else {\n\t\t\tconst baseUrl = `http://localhost:4000/api/twitch/suggestions/${search.mode}/${search.value}`\n\t\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\t\t\tconst thisAvatar = data[0].avatar !== '' ? data[0].avatar : ''\n\n\t\t\tnewFavourites = storedFavourites.concat({ search: search, rank: 0, avatar: thisAvatar })\n\t\t}\n\t\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n\t}\n}\n\nexport const removeFavourite = (search: searchClips) => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst newFavourites = storedFavourites.filter((item: { search: searchClips }) => {\n\t\tif (item.search.value === search.value && item.search.mode === search.mode) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn true\n\t})\n\n\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n}\n","import { FC } from 'react'\nimport './channelAndAvatar.scss'\n\ninterface Props {\n\tsrc: string\n\tname: string\n}\n\nconst ChannelAndAvatar: FC<Props> = ({ src, name }) => {\n\tconst parsedSrc = src?.replace('{width}', '50').replace('{height}', '67').replace('300x300', '50x50')\n\tconst defaultAvatar =\n\t\t'https://static-cdn.jtvnw.net/user-default-pictures-uv/cdd517fe-def4-11e9-948e-784f43822e80-profile_image-70x70.png'\n\n\tconst errorHandler = (e: any) => {\n\t\te.target.src = defaultAvatar\n\t}\n\n\treturn (\n\t\t<div className='channel-avatar-container'>\n\t\t\t<img\n\t\t\t\tclassName='channel-avatar'\n\t\t\t\twidth={30}\n\t\t\t\tsrc={parsedSrc !== undefined && parsedSrc !== '' ? parsedSrc : defaultAvatar}\n\t\t\t\talt={`${name} avatar`}\n\t\t\t\tonError={(e) => errorHandler(e)}\n\t\t\t/>\n\t\t\t{name}\n\t\t</div>\n\t)\n}\n\nexport default ChannelAndAvatar\n","import React, { createContext, useContext, useReducer } from 'react'\nimport { apiTimePeriod, searchType, sortType } from 'src/types/search'\nimport { Action, State } from 'src/types/state'\n\nconst initialState: State = {\n\tclips: {\n\t\tdata: [],\n\t\tpagination: {\n\t\t\tcursor: '',\n\t\t},\n\t},\n\tcurrentClip: {\n\t\ttitle: '',\n\t\tvideo_url: '',\n\t\tcomments_url: '',\n\t},\n\tclipIndex: -1,\n\tcurrentSearch: {\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.all,\n\t\tsort: sortType.hot,\n\t},\n\tfavourites: [],\n}\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([initialState, () => initialState])\n\ntype StateProviderProps = {\n\treducer: React.Reducer<State, Action>\n\tchildren: React.ReactElement\n}\n\nexport const StateProvider: React.FC<StateProviderProps> = ({ reducer, children }: StateProviderProps) => {\n\tconst [state, dispatch] = useReducer(reducer, initialState)\n\n\treturn <StateContext.Provider value={[state, dispatch]}>{children}</StateContext.Provider>\n}\nexport const useStateValue = () => useContext(StateContext)\n","import { State, Action } from 'src/types/state'\nimport { searchClips } from 'src/types/search'\nimport { favouritesType, ResponseClip, ResponseClips } from 'src/types/twitch'\n\nexport const setClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'SET_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentClip = (clip: ResponseClip): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_CLIP',\n\t\tpayload: clip,\n\t}\n}\n\nexport const setClipIndex = (clipIndex: number): Action => {\n\treturn {\n\t\ttype: 'SET_CLIP_INDEX',\n\t\tpayload: clipIndex,\n\t}\n}\n\nexport const updateClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'UPDATE_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentSearch = (search: searchClips): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_SEARCH',\n\t\tpayload: search,\n\t}\n}\n\nexport const setFavourites = (favourites: favouritesType[]): Action => {\n\treturn {\n\t\ttype: 'SET_FAVOURITES',\n\t\tpayload: favourites,\n\t}\n}\n\nexport const reducer = (state: State, action: Action): State => {\n\tswitch (action.type) {\n\t\tcase 'SET_CLIPS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\t\tcase 'SET_CURRENT_CLIP':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentClip: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CLIP_INDEX':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclipIndex: action.payload,\n\t\t\t}\n\n\t\tcase 'UPDATE_CLIPS':\n\t\t\tconst data = state.clips.data.concat(action.payload.data)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\tdata,\n\t\t\t\t\tpagination: {\n\t\t\t\t\t\tcursor: action.payload.pagination.cursor,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CURRENT_SEARCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSearch: action.payload,\n\t\t\t}\n\n\t\tcase 'SET_FAVOURITES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfavourites: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { getFavourites, removeFavourite } from 'src/common/localstorage'\nimport { apiTimePeriod, searchClips } from 'src/types/search'\nimport './sidebar.scss'\nimport { HeartFillIcon, XCircleFillIcon, HomeFillIcon } from '@primer/octicons-react'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport { useStateValue } from 'src/state/state'\nimport { setFavourites } from 'src/state/reducer'\n\nconst Sidebar: FC = () => {\n\tconst [{ favourites }, dispatch] = useStateValue()\n\tconst [favouritesVisible, setFavouritesVisible] = useState(false)\n\n\tconst loadFavourites = useCallback(() => {\n\t\tconst favouritesRes = getFavourites()\n\n\t\tdispatch(setFavourites(favouritesRes))\n\t}, [dispatch])\n\n\tuseEffect(() => {\n\t\tloadFavourites()\n\t}, [loadFavourites])\n\n\tconst handleFavouriteClick = (show?: boolean) => {\n\t\tif (!favouritesVisible && show === true) {\n\t\t\tsetFavouritesVisible(true)\n\t\t\tdocument.body.style.overflow = 'hidden'\n\t\t} else {\n\t\t\tsetFavouritesVisible(false)\n\t\t\tdocument.querySelector('.favourites-bar')?.scrollTo({ top: 0 })\n\t\t\tdocument.body.style.overflow = 'unset'\n\t\t}\n\t}\n\n\tconst handleRemove = (search: searchClips) => {\n\t\tremoveFavourite(search)\n\t\tloadFavourites()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{favourites && (\n\t\t\t\t<aside className={`favourites-bar ${favouritesVisible === true ? 'is-visible' : ''}`}>\n\t\t\t\t\t<div className='favourites-container'>\n\t\t\t\t\t\t<h5 className='title-lg'>\n\t\t\t\t\t\t\t<Link to='/' title='Homepage' onClick={() => handleFavouriteClick()}>\n\t\t\t\t\t\t\t\t<HomeFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t\t<span className='title-text'>Homepage</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h5>\n\n\t\t\t\t\t\t<button className='title-lg' onClick={() => handleFavouriteClick(true)}>\n\t\t\t\t\t\t\t<HeartFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t<span className='title-text'>\n\t\t\t\t\t\t\t\tYour\n\t\t\t\t\t\t\t\t<br /> Favourites\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{favourites.length > 0 ? (\n\t\t\t\t\t\t\t<ul className='favourites-list'>\n\t\t\t\t\t\t\t\t{favourites.map(({ search, avatar }) => (\n\t\t\t\t\t\t\t\t\t<li className='favourites-item' key={search.value}>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto={`/${search.mode}/${apiTimePeriod.day}/${search.value}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleFavouriteClick()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={search.value} />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<button title='Remove Favourite' onClick={() => handleRemove(search)}>\n\t\t\t\t\t\t\t\t\t\t\t<XCircleFillIcon size={14} />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p className='favourites-empty'>After you seach for clips your favorites will show up here</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Sidebar\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj, ResponseClips } from 'src/types/twitch'\n\nexport const getClips = async (search: searchClips, after?: string) => {\n\tlet query\n\n\tif (search.mode === searchType.subreddit) {\n\t\tquery = `${process.env.REACT_APP_API_URI}/api/${search.mode}/livestreamfail?timeperiod=${search.timePeriod}&sort=${search.value}`\n\t} else {\n\t\tquery = `${process.env.REACT_APP_API_URI}/api/twitch/${search.mode}/${search.value}?timeperiod=${search.timePeriod}`\n\t}\n\tif (after) query = `${query}&after=${after}`\n\ttry {\n\t\tconst { data }: { data: ResponseClips } = await axios.get(query)\n\n\t\treturn data\n\t} catch ({ response }) {\n\t\treturn {\n\t\t\terror: {\n\t\t\t\tstatus: response.status,\n\t\t\t\tmessage: response.statusText,\n\t\t\t},\n\t\t}\n\t}\n}\n\nexport const getSuggestions = async (searchMode: searchType, query?: string) => {\n\tif (searchMode !== searchType.subreddit) {\n\t\tlet baseUrl = `${process.env.REACT_APP_API_URI}/api/twitch/suggestions/${searchMode}/`\n\n\t\tif (query) baseUrl = `${baseUrl}${query}`\n\n\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\n\t\treturn data\n\t} else {\n\t\treturn false\n\t}\n}\n","import React, { FC } from 'react'\nimport './radioCustom.scss'\n\ninterface Props {\n\tid: string\n\tname: string\n\tlabel: string\n\tchecked: boolean\n\tvalue: string\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst RadioCustom: FC<Props> = ({ id, name, label, checked, value, onChange }) => {\n\treturn (\n\t\t<div className='radio-custom'>\n\t\t\t<input id={id} type='radio' name={name} checked={checked} value={value} onChange={onChange} />\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t</div>\n\t)\n}\n\nexport default RadioCustom\n","import { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport { searchClips } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport './suggestions.scss'\n\ninterface Props {\n\tsuggestions: AutocompleteObj[]\n\tlocalSearch: searchClips\n}\n\nconst Suggestions: FC<Props> = ({ suggestions, localSearch }) => {\n\treturn (\n\t\t<section className='suggestions-container'>\n\t\t\t<h2 className='title-lg'>Suggestions</h2>\n\t\t\t{suggestions.length > 0 ? (\n\t\t\t\t<ul className='suggestions-list'>\n\t\t\t\t\t{localSearch.mode && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{suggestions.map(({ avatar, name }) => (\n\t\t\t\t\t\t\t\t<li className='suggestions-item' key={name}>\n\t\t\t\t\t\t\t\t\t<Link to={`/${localSearch.mode}/${localSearch.timePeriod}/${name}`}>\n\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={name} />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<p className='no-suggestions'>\n\t\t\t\t\tNo suggestions found but you can still search using the button since not every user is in our\n\t\t\t\t\tdatabase.\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</section>\n\t)\n}\n\nexport default Suggestions\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { getSuggestions } from 'src/common/api'\nimport { apiTimePeriod, searchClips, searchType, sortType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport RadioCustom from '../common/radioCustom/RadioCustom'\nimport './search.scss'\nimport 'src/styles/button-generic.scss'\nimport Suggestions from './Suggestions'\n\nconst Search: FC = () => {\n\tconst [localSearch, setLocalSearch] = useState<searchClips>({\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.week,\n\t\tsort: sortType.hot,\n\t})\n\n\tconst [searchSuggestions, setSearchSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [channelSuggestions, setChannelSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [categorySuggestions, setCategorySuggestions] = useState<AutocompleteObj[]>([])\n\tconst history = useHistory()\n\n\tconst updateSuggestions = useCallback(async () => {\n\t\tif (localSearch.value.length > 0 && localSearch.mode !== searchType.subreddit) {\n\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode, localSearch.value)\n\n\t\t\tsuggestions && setSearchSuggestions(suggestions)\n\t\t} else {\n\t\t\tif (localSearch.mode === searchType.channel) {\n\t\t\t\tif (channelSuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(channelSuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetChannelSuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (localSearch.mode === searchType.category) {\n\t\t\t\tif (categorySuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(categorySuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetCategorySuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [categorySuggestions, channelSuggestions, localSearch.mode, localSearch.value])\n\n\tuseEffect(() => {\n\t\tupdateSuggestions()\n\t}, [updateSuggestions])\n\n\tconst formSubmit = async (e: React.MouseEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\tlet value = localSearch.value\n\n\t\tif (localSearch.mode === searchType.subreddit) value = localSearch.sort\n\n\t\thistory.push(`/${localSearch.mode}/${localSearch.timePeriod}/${value}`)\n\t}\n\n\tconst handleSearchTypeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as searchType\n\n\t\tsetLocalSearch({ ...localSearch, mode: val })\n\t}\n\n\tconst handleTimePeriodChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as apiTimePeriod\n\n\t\tsetLocalSearch({ ...localSearch, timePeriod: val })\n\t}\n\n\tconst handleSearchChange = async (e: React.FormEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value\n\t\tsetLocalSearch({ ...localSearch, value: val })\n\t}\n\n\tconst handleSortChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as sortType\n\n\t\tsetLocalSearch({ ...localSearch, sort: val })\n\t}\n\n\treturn (\n\t\t<div className='search-container'>\n\t\t\t<h2 className='text-intro'>\n\t\t\t\tWatch the best Twitch Clips from your favourite content creators without interruptions\n\t\t\t</h2>\n\t\t\t<form>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Search Clips by</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-channel'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Channel'\n\t\t\t\t\t\tvalue={searchType.channel}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.channel}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-category'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Category/Game'\n\t\t\t\t\t\tvalue={searchType.category}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.category}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-lsf'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='LiveStreamFail'\n\t\t\t\t\t\tvalue={searchType.subreddit}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.subreddit}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Filter by Time</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-day'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Day'\n\t\t\t\t\t\tvalue={apiTimePeriod.day}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.day}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-week'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Week'\n\t\t\t\t\t\tvalue={apiTimePeriod.week}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.week}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-month'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Month'\n\t\t\t\t\t\tvalue={apiTimePeriod.month}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.month}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-year'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Year'\n\t\t\t\t\t\tvalue={apiTimePeriod.year}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.year}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-all'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='All'\n\t\t\t\t\t\tvalue={apiTimePeriod.all}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.all}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{localSearch.mode === searchType.subreddit && (\n\t\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t\t<h2 className='title-lg'>Sort by</h2>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-popular'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Popular Now'\n\t\t\t\t\t\t\tvalue={sortType.hot}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.hot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-top'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Votes'\n\t\t\t\t\t\t\tvalue={sortType.top}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.top}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-new'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Recent'\n\t\t\t\t\t\t\tvalue={sortType.new}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.new}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='input-main-search'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\tlocalSearch.mode === searchType.channel\n\t\t\t\t\t\t\t\t? 'Insert the channel name'\n\t\t\t\t\t\t\t\t: 'Insert the category/game name'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={localSearch.value}\n\t\t\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName='button-generic'\n\t\t\t\t\tonClick={formSubmit}\n\t\t\t\t\tdisabled={localSearch.value === '' && localSearch.mode !== searchType.subreddit}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</button>\n\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<Suggestions suggestions={searchSuggestions} localSearch={localSearch} />\n\t\t\t\t)}\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default Search\n","export default __webpack_public_path__ + \"static/media/logo-reddit.569e7461.svg\";","import React, { FC } from 'react'\nimport './loader.scss'\n\ninterface Props {\n\tvisible: string\n}\n\nconst Loader: FC<Props> = ({ visible }) => {\n\treturn <div className={`loader ${visible}`}>Loading...</div>\n}\n\nexport default Loader\n","import { FC, useCallback, useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { getClips } from 'src/common/api'\nimport {\n\tsetClipIndex,\n\tsetClips,\n\tsetCurrentClip,\n\tsetCurrentSearch,\n\tsetFavourites,\n\tupdateClips,\n} from 'src/state/reducer'\nimport { useStateValue } from 'src/state/state'\nimport { searchClips } from 'src/types/search'\nimport { ChevronRightIcon, XIcon } from '@primer/octicons-react'\nimport redditLogo from '../../assets/logo-reddit.svg'\nimport ReactGA from 'react-ga'\n\nimport './player.scss'\nimport 'src/styles/button-generic.scss'\n\nimport Loader from '../common/loader/Loader'\nimport { addFavourite, getFavourites } from 'src/common/localstorage'\n\nconst Player: FC = () => {\n\tconst [{ clips, currentClip, clipIndex, currentSearch }, dispatch] = useStateValue()\n\tconst [transition, setTransition] = useState('loading')\n\tconst [error, setError] = useState(false)\n\tconst [loadingClips, setLoadingClips] = useState(false)\n\tconst params = useParams<searchClips>()\n\n\tuseEffect(() => {\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [params])\n\n\tuseEffect(() => {\n\t\tsetTransition('loading')\n\n\t\tconst getdata = async () => {\n\t\t\tdispatch(setClipIndex(0))\n\t\t\tdispatch(setCurrentSearch(params))\n\n\t\t\tconst data = await getClips(params)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tsetError(true)\n\t\t\t\tsetTransition('')\n\t\t\t} else {\n\t\t\t\tdispatch(setClips(data))\n\t\t\t\tdispatch(setCurrentClip(data.data[0]))\n\t\t\t\tawait addFavourite(params)\n\t\t\t\tconst favouritesRes = await getFavourites()\n\n\t\t\t\tdispatch(setFavourites(favouritesRes))\n\t\t\t}\n\t\t}\n\n\t\tgetdata()\n\n\t\treturn () => {\n\t\t\tdispatch(\n\t\t\t\tsetCurrentClip({\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tvideo_url: '',\n\t\t\t\t\tcomments_url: '',\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetTransition('loading')\n\t\t}\n\t}, [dispatch, params])\n\n\tconst nextClip = useCallback(\n\t\t(direction?: string) => {\n\t\t\tconst clipsData = clips.data\n\t\t\tconst newClipIndex = direction === 'prev' ? clipIndex - 1 : clipIndex + 1\n\n\t\t\t//Twitch pagination sometimes sends the same clip as the last in the payload and first in the next\n\t\t\tif (clipsData[clipIndex].video_url === clipsData[newClipIndex].video_url) {\n\t\t\t\tnextClip()\n\t\t\t} else {\n\t\t\t\tif (newClipIndex <= clips.data.length) {\n\t\t\t\t\tsetTransition('loading')\n\n\t\t\t\t\tdispatch(setCurrentClip(clipsData[newClipIndex]))\n\t\t\t\t\tdispatch(setClipIndex(newClipIndex))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[clipIndex, clips, dispatch]\n\t)\n\n\tconst loadMoreClips = useCallback(async () => {\n\t\tconst after = clips.pagination.cursor\n\t\tconsole.log('moreclips called')\n\t\tif (after !== '' && !loadingClips) {\n\t\t\tsetLoadingClips(true)\n\t\t\tconsole.log('loading clips')\n\t\t\tconst data = await getClips(currentSearch, after)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tconsole.log(data.error)\n\t\t\t} else {\n\t\t\t\tdispatch(updateClips(data))\n\t\t\t\tsetLoadingClips(false)\n\t\t\t}\n\t\t}\n\t}, [clips.pagination.cursor, currentSearch, dispatch, loadingClips])\n\n\tuseEffect(() => {\n\t\tconst clipsTotal = clips.data.length\n\t\t//Starts the Autoplay if the clips have been set and none has played yet\n\t\tif (clipsTotal > 0 && clipIndex === -1) {\n\t\t\tnextClip()\n\t\t}\n\n\t\t//When there are clips and the currentClip is reaching the last fetch more\n\t\t//------Todo - Increase Margin before deploy\n\t\tif (clipsTotal > 0 && clipIndex + 3 > clipsTotal) {\n\t\t\tloadMoreClips()\n\t\t}\n\t}, [clips, clipIndex, nextClip, loadMoreClips])\n\n\treturn (\n\t\t<>\n\t\t\t<div className='player-container'>\n\t\t\t\t{currentClip.video_url && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='video-controls'>\n\t\t\t\t\t\t\t<h4 className='title-lg'>{currentClip.title}</h4>\n\n\t\t\t\t\t\t\t<div className='right-container'>\n\t\t\t\t\t\t\t\t{currentClip.comments_url && (\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName='link-comments'\n\t\t\t\t\t\t\t\t\t\thref={`https://reddit.com${currentClip.comments_url}`}\n\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\trel='noreferrer'\n\t\t\t\t\t\t\t\t\t\ttitle='clip comments'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img className='' width='25' src={redditLogo} alt='reddit logo' />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-left'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip('prev')}\n\t\t\t\t\t\t\t\t\tdisabled={clipIndex <= 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-right'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip()}\n\t\t\t\t\t\t\t\t\tdisabled={clips.data.length <= clipIndex + 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tclassName={transition}\n\t\t\t\t\t\t\tsrc={currentClip.video_url}\n\t\t\t\t\t\t\tautoPlay={true}\n\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\tonEnded={() => nextClip()}\n\t\t\t\t\t\t\tonLoadedData={() => setTransition('')}\n\t\t\t\t\t\t\tonError={() => nextClip()}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{error && (\n\t\t\t\t\t<div className='error-container'>\n\t\t\t\t\t\t<XIcon size={48} />\n\t\t\t\t\t\t<p className='error-description'>\n\t\t\t\t\t\t\tWe couldn't find any clips for your Search.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe game/user might not exist or they might not have any clips in the selected period.\n\t\t\t\t\t\t\t<br /> Users that are currently suspended also have their clips disabled.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Link to='/' className='button-generic'>\n\t\t\t\t\t\t\tNew Search\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<Loader visible={transition} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Player\n","import React, { FC } from 'react'\nimport { DeviceCameraVideoIcon } from '@primer/octicons-react'\nimport './logoMain.scss'\nimport { Link } from 'react-router-dom'\n\nconst LogoMain: FC = () => {\n\treturn (\n\t\t<>\n\t\t\t<h1 className='logo-main'>\n\t\t\t\t<Link to='/'>\n\t\t\t\t\tClips <DeviceCameraVideoIcon size={36} /> Autoplay\n\t\t\t\t</Link>\n\t\t\t</h1>\n\t\t</>\n\t)\n}\n\nexport default LogoMain\n","import { Route, Switch } from 'react-router'\nimport Sidebar from './components/sidebar/Sidebar'\nimport Search from './components/search/Search'\nimport Player from './components/videoplayer/Player'\nimport './styles/App.scss'\nimport LogoMain from './components/logoMain/LogoMain'\nimport ReactGA from 'react-ga'\nimport { createBrowserHistory } from 'history'\nimport { useEffect } from 'react'\n\nReactGA.initialize('UA-200630534-1')\nconst browserHistory = createBrowserHistory()\n\nbrowserHistory.listen((location, action) => {\n\tReactGA.pageview(location.pathname + location.search)\n})\n\nconst App: React.FC = () => {\n\tuseEffect(() => {\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [])\n\treturn (\n\t\t<>\n\t\t\t<Sidebar />\n\t\t\t<main className='main-content'>\n\t\t\t\t<LogoMain />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/:mode/:timePeriod/:value?'>\n\t\t\t\t\t\t<Player />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport { reducer } from './state/reducer'\nimport { StateProvider } from './state/state'\nrequire('dotenv').config()\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<StateProvider reducer={reducer}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</StateProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}