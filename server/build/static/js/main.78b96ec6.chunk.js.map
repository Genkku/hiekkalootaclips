{"version":3,"sources":["types/search.ts","common/localstorage.ts","components/common/channelAndAvatar/ChannelAndAvatar.tsx","state/state.tsx","state/reducer.ts","components/sidebar/Sidebar.tsx","common/api.ts","components/common/radioCustom/RadioCustom.tsx","components/search/Suggestions.tsx","components/search/Search.tsx","assets/logo-twitch.svg","components/common/loader/Loader.tsx","components/videoplayer/PlayerError.tsx","components/videoplayer/PlayerFinished.tsx","components/videoplayer/CommentsBox.tsx","components/videoplayer/Player.tsx","components/logoMain/LogoMain.tsx","App.tsx","index.tsx"],"names":["searchType","apiTimePeriod","sortType","getFavourites","JSON","parse","localStorage","getItem","sort","a","b","rank","slice","addFavourite","search","value","mode","subreddit","storedFavourites","itemIndex","findIndex","i","newFavourites","apiUrl","process","axios","get","data","thisAvatar","avatar","concat","setItem","stringify","ChannelAndAvatar","src","name","parsedSrc","replace","defaultAvatar","className","width","undefined","alt","onError","e","target","errorHandler","initialState","clips","pagination","cursor","currentClip","title","video_url","comments_url","twitch_url","clipIndex","currentSearch","channel","timePeriod","all","hot","favourites","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","useStateValue","useContext","setClips","type","payload","setCurrentClip","clip","setClipIndex","updateClips","setFavourites","Sidebar","useState","favouritesVisible","setFavouritesVisible","loadFavourites","useCallback","favouritesRes","useEffect","handleFavouriteClick","show","document","querySelector","scrollTo","top","body","style","overflow","handleRemove","filter","item","removeFavourite","to","onClick","size","length","map","day","getClips","after","query","response","error","status","message","statusText","getSuggestions","searchMode","baseUrl","RadioCustom","id","label","checked","onChange","htmlFor","Suggestions","suggestions","localSearch","Search","week","setLocalSearch","searchSuggestions","setSearchSuggestions","channelSuggestions","setChannelSuggestions","categorySuggestions","setCategorySuggestions","history","useHistory","updateSuggestions","category","formSubmit","preventDefault","push","handleSearchTypeChange","val","currentTarget","handleTimePeriodChange","handleSearchChange","handleSortChange","new","month","year","placeholder","disabled","Loader","visible","PlayerError","PlayerFinished","CommentsBox","comments","index","comment","author","href","rel","Player","transition","setTransition","setError","finished","setFinished","videoMaxWidth","setVideoMaxWidth","loadingClips","setLoadingClips","commentsVisible","setCommentsVisible","fullscreen","setFullscreen","params","useParams","ReactGA","pageview","window","location","pathname","getdata","nextClip","direction","clipsData","newClipIndex","loadMoreClips","console","log","clipsTotal","updateVideoSize","video","vh","innerHeight","vw","innerWidth","onresize","onkeydown","key","maxWidth","twitchLogo","autoPlay","controls","onEnded","onLoadedData","LogoMain","initialize","createBrowserHistory","listen","action","App","path","require","config","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.78b96ec6.chunk.js","sourcesContent":["export enum searchType {\n\tchannel = 'channel',\n\tcategory = 'category',\n\tsubreddit = 'subreddit',\n}\n\nexport interface searchClips {\n\tmode: searchType\n\tvalue: string\n\ttimePeriod: apiTimePeriod\n\tsort: sortType\n}\n\nexport enum apiTimePeriod {\n\tday = 'day',\n\tweek = 'week',\n\tmonth = 'month',\n\tyear = 'year',\n\tall = 'all',\n}\n\nexport enum sortType {\n\tnew = 'new',\n\ttop = 'top',\n\thot = 'hot',\n}\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\n\nexport const getFavourites = () => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst sortedFavourites = storedFavourites.sort((a: { rank: number }, b: { rank: number }) =>\n\t\ta.rank < b.rank ? 1 : -1\n\t)\n\n\treturn sortedFavourites.slice(0, 15)\n}\n\nexport const addFavourite = async (search: searchClips) => {\n\tif (search.value !== '' && search.mode !== searchType.subreddit) {\n\t\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\t\tconst itemIndex = storedFavourites.findIndex(\n\t\t\t(i: { search: searchClips; rank: number }) =>\n\t\t\t\ti.search.value === search.value && i.search.mode === search.mode\n\t\t)\n\t\tlet newFavourites\n\n\t\tif (itemIndex >= 0) {\n\t\t\tnewFavourites = storedFavourites\n\n\t\t\tnewFavourites[itemIndex].rank = newFavourites[itemIndex].rank + 1\n\t\t} else {\n\t\t\tconst apiUrl = `${process.env.REACT_APP_API_URI}/api/twitch/suggestions/${search.mode}/${search.value}`\n\t\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(apiUrl)\n\t\t\tlet thisAvatar = ''\n\t\t\tif(data[0]?.avatar) thisAvatar = data[0].avatar\n\n\t\t\tnewFavourites = storedFavourites.concat({ search: search, rank: 0, avatar: thisAvatar })\n\t\t}\n\t\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n\t}\n}\n\nexport const removeFavourite = (search: searchClips) => {\n\tconst storedFavourites = JSON.parse(localStorage.getItem('favourites') || '[]')\n\n\tconst newFavourites = storedFavourites.filter((item: { search: searchClips }) => {\n\t\tif (item.search.value === search.value && item.search.mode === search.mode) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn true\n\t})\n\n\tlocalStorage.setItem('favourites', JSON.stringify(newFavourites))\n}\n","import { FC } from 'react'\nimport './channelAndAvatar.scss'\n\ninterface Props {\n\tsrc: string\n\tname: string\n}\n\nconst ChannelAndAvatar: FC<Props> = ({ src, name }) => {\n\tconst parsedSrc = src?.replace('{width}', '50').replace('{height}', '67').replace('300x300', '50x50')\n\tconst defaultAvatar =\n\t\t'https://static-cdn.jtvnw.net/user-default-pictures-uv/cdd517fe-def4-11e9-948e-784f43822e80-profile_image-70x70.png'\n\n\tconst errorHandler = (e: any) => {\n\t\te.target.src = defaultAvatar\n\t}\n\n\treturn (\n\t\t<div className='channel-avatar-container'>\n\t\t\t<img\n\t\t\t\tclassName='channel-avatar'\n\t\t\t\twidth={30}\n\t\t\t\tsrc={parsedSrc !== undefined && parsedSrc !== '' ? parsedSrc : defaultAvatar}\n\t\t\t\talt={`${name} avatar`}\n\t\t\t\tonError={(e) => errorHandler(e)}\n\t\t\t/>\n\t\t\t{name}\n\t\t</div>\n\t)\n}\n\nexport default ChannelAndAvatar\n","import React, { createContext, useContext, useReducer } from 'react'\nimport { apiTimePeriod, searchType, sortType } from 'src/types/search'\nimport { Action, State } from 'src/types/state'\n\nconst initialState: State = {\n\tclips: {\n\t\tdata: [],\n\t\tpagination: {\n\t\t\tcursor: '',\n\t\t},\n\t},\n\tcurrentClip: {\n\t\ttitle: '',\n\t\tvideo_url: '',\n\t\tcomments_url: '',\n\t\ttwitch_url: ''\n\t},\n\tclipIndex: -1,\n\tcurrentSearch: {\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.all,\n\t\tsort: sortType.hot,\n\t},\n\tfavourites: [],\n}\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([initialState, () => initialState])\n\ntype StateProviderProps = {\n\treducer: React.Reducer<State, Action>\n\tchildren: React.ReactElement\n}\n\nexport const StateProvider: React.FC<StateProviderProps> = ({ reducer, children }: StateProviderProps) => {\n\tconst [state, dispatch] = useReducer(reducer, initialState)\n\n\treturn <StateContext.Provider value={[state, dispatch]}>{children}</StateContext.Provider>\n}\nexport const useStateValue = () => useContext(StateContext)\n","import { State, Action } from 'src/types/state'\nimport { searchClips } from 'src/types/search'\nimport { favouritesType, ResponseClip, ResponseClips } from 'src/types/twitch'\n\nexport const setClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'SET_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentClip = (clip: ResponseClip): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_CLIP',\n\t\tpayload: clip,\n\t}\n}\n\nexport const setClipIndex = (clipIndex: number): Action => {\n\treturn {\n\t\ttype: 'SET_CLIP_INDEX',\n\t\tpayload: clipIndex,\n\t}\n}\n\nexport const updateClips = (clips: ResponseClips): Action => {\n\treturn {\n\t\ttype: 'UPDATE_CLIPS',\n\t\tpayload: clips,\n\t}\n}\n\nexport const setCurrentSearch = (search: searchClips): Action => {\n\treturn {\n\t\ttype: 'SET_CURRENT_SEARCH',\n\t\tpayload: search,\n\t}\n}\n\nexport const setFavourites = (favourites: favouritesType[]): Action => {\n\treturn {\n\t\ttype: 'SET_FAVOURITES',\n\t\tpayload: favourites,\n\t}\n}\n\nexport const reducer = (state: State, action: Action): State => {\n\tswitch (action.type) {\n\t\tcase 'SET_CLIPS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\t\tcase 'SET_CURRENT_CLIP':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentClip: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CLIP_INDEX':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclipIndex: action.payload,\n\t\t\t}\n\n\t\tcase 'UPDATE_CLIPS':\n\t\t\tconst data = state.clips.data.concat(action.payload.data)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclips: {\n\t\t\t\t\tdata,\n\t\t\t\t\tpagination: {\n\t\t\t\t\t\tcursor: action.payload.pagination.cursor,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase 'SET_CURRENT_SEARCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSearch: action.payload,\n\t\t\t}\n\n\t\tcase 'SET_FAVOURITES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfavourites: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { getFavourites, removeFavourite } from 'src/common/localstorage'\nimport { apiTimePeriod, searchClips } from 'src/types/search'\nimport './sidebar.scss'\nimport { HeartFillIcon, XCircleFillIcon, HomeFillIcon } from '@primer/octicons-react'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport { useStateValue } from 'src/state/state'\nimport { setFavourites } from 'src/state/reducer'\n\nconst Sidebar: FC = () => {\n\tconst [{ favourites }, dispatch] = useStateValue()\n\tconst [favouritesVisible, setFavouritesVisible] = useState(false)\n\n\tconst loadFavourites = useCallback(() => {\n\t\tconst favouritesRes = getFavourites()\n\n\t\tdispatch(setFavourites(favouritesRes))\n\t}, [dispatch])\n\n\tuseEffect(() => {\n\t\tloadFavourites()\n\t}, [loadFavourites])\n\n\tconst handleFavouriteClick = (show?: boolean) => {\n\t\tif (!favouritesVisible && show === true) {\n\t\t\tsetFavouritesVisible(true)\n\t\t\tdocument.body.style.overflow = 'hidden'\n\t\t} else {\n\t\t\tsetFavouritesVisible(false)\n\t\t\tdocument.querySelector('.favourites-bar')?.scrollTo({ top: 0 })\n\t\t\tdocument.body.style.overflow = 'unset'\n\t\t}\n\t}\n\n\tconst handleRemove = (search: searchClips) => {\n\t\tremoveFavourite(search)\n\t\tloadFavourites()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{favourites && (\n\t\t\t\t<aside className={`favourites-bar ${favouritesVisible === true ? 'is-visible' : ''}`}>\n\t\t\t\t\t<div className='favourites-container'>\n\t\t\t\t\t\t<h5 className='title-lg'>\n\t\t\t\t\t\t\t<Link to='/' title='Homepage' onClick={() => handleFavouriteClick()}>\n\t\t\t\t\t\t\t\t<HomeFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t\t<span className='title-text'>Homepage</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h5>\n\n\t\t\t\t\t\t<button className='title-lg' onClick={() => handleFavouriteClick(true)}>\n\t\t\t\t\t\t\t<HeartFillIcon size={30} className='sidebar-icon' />\n\t\t\t\t\t\t\t<span className='title-text'>\n\t\t\t\t\t\t\t\tYour\n\t\t\t\t\t\t\t\t<br /> Favourites\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{favourites.length > 0 ? (\n\t\t\t\t\t\t\t<ul className='favourites-list'>\n\t\t\t\t\t\t\t\t{favourites.map(({ search, avatar }) => (\n\t\t\t\t\t\t\t\t\t<li className='favourites-item' key={search.value}>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto={`/${search.mode}/${apiTimePeriod.day}/${search.value}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleFavouriteClick()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={search.value} />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<button title='Remove Favourite' onClick={() => handleRemove(search)}>\n\t\t\t\t\t\t\t\t\t\t\t<XCircleFillIcon size={14} />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p className='favourites-empty'>After you seach for clips your favorites will show up here</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Sidebar\n","import axios from 'axios'\nimport { searchClips, searchType } from 'src/types/search'\nimport { AutocompleteObj, ResponseClips } from 'src/types/twitch'\n\nexport const getClips = async (search: searchClips, after?: string) => {\n\tlet query\n\n\tif (search.mode === searchType.subreddit) {\n\t\tquery = `${process.env.REACT_APP_API_URI}/api/${search.mode}/livestreamfail?timeperiod=${search.timePeriod}&sort=${search.value}`\n\t} else {\n\t\tquery = `${process.env.REACT_APP_API_URI}/api/twitch/${search.mode}/${search.value}?timeperiod=${search.timePeriod}`\n\t}\n\tif (after) query = `${query}&after=${after}`\n\ttry {\n\t\tconst { data }: { data: ResponseClips } = await axios.get(query)\n\n\t\treturn data\n\t} catch ({ response }) {\n\t\treturn {\n\t\t\terror: {\n\t\t\t\tstatus: response.status,\n\t\t\t\tmessage: response.statusText,\n\t\t\t},\n\t\t}\n\t}\n}\n\nexport const getSuggestions = async (searchMode: searchType, query?: string) => {\n\tif (searchMode !== searchType.subreddit) {\n\t\tlet baseUrl = `${process.env.REACT_APP_API_URI}/api/twitch/suggestions/${searchMode}/`\n\n\t\tif (query) baseUrl = `${baseUrl}${query}`\n\n\t\tconst { data }: { data: AutocompleteObj[] } = await axios.get(baseUrl)\n\n\t\treturn data\n\t} else {\n\t\treturn false\n\t}\n}\n","import React, { FC } from 'react'\nimport './radioCustom.scss'\n\ninterface Props {\n\tid: string\n\tname: string\n\tlabel: string\n\tchecked: boolean\n\tvalue: string\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst RadioCustom: FC<Props> = ({ id, name, label, checked, value, onChange }) => {\n\treturn (\n\t\t<div className='radio-custom'>\n\t\t\t<input id={id} type='radio' name={name} checked={checked} value={value} onChange={onChange} />\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t</div>\n\t)\n}\n\nexport default RadioCustom\n","import { FC } from 'react'\nimport { Link } from 'react-router-dom'\nimport { searchClips } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport ChannelAndAvatar from '../common/channelAndAvatar/ChannelAndAvatar'\nimport './suggestions.scss'\n\ninterface Props {\n\tsuggestions: AutocompleteObj[]\n\tlocalSearch: searchClips\n}\n\nconst Suggestions: FC<Props> = ({ suggestions, localSearch }) => {\n\treturn (\n\t\t<section className='suggestions-container'>\n\t\t\t<h2 className='title-lg'>Suggestions</h2>\n\t\t\t{suggestions.length > 0 ? (\n\t\t\t\t<ul className='suggestions-list'>\n\t\t\t\t\t{localSearch.mode && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{suggestions?.map(({ avatar, name }) => (\n\t\t\t\t\t\t\t\t<li className='suggestions-item' key={name}>\n\t\t\t\t\t\t\t\t\t<Link to={`/${localSearch.mode}/${localSearch.timePeriod}/${name}`}>\n\t\t\t\t\t\t\t\t\t\t<ChannelAndAvatar src={avatar} name={name} />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<p className='no-suggestions'>\n\t\t\t\t\tNo suggestions found but you can still search using the button since not every user is in our\n\t\t\t\t\tdatabase.\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</section>\n\t)\n}\n\nexport default Suggestions\n","import React, { FC, useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { getSuggestions } from 'src/common/api'\nimport { apiTimePeriod, searchClips, searchType, sortType } from 'src/types/search'\nimport { AutocompleteObj } from 'src/types/twitch'\nimport RadioCustom from '../common/radioCustom/RadioCustom'\nimport './search.scss'\nimport 'src/styles/button-generic.scss'\nimport Suggestions from './Suggestions'\n\nconst Search: FC = () => {\n\tconst [localSearch, setLocalSearch] = useState<searchClips>({\n\t\tmode: searchType.channel,\n\t\tvalue: '',\n\t\ttimePeriod: apiTimePeriod.week,\n\t\tsort: sortType.hot,\n\t})\n\n\tconst [searchSuggestions, setSearchSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [channelSuggestions, setChannelSuggestions] = useState<AutocompleteObj[]>([])\n\tconst [categorySuggestions, setCategorySuggestions] = useState<AutocompleteObj[]>([])\n\tconst history = useHistory()\n\n\tconst updateSuggestions = useCallback(async () => {\n\t\tif (localSearch.value.length > 0 && localSearch.mode !== searchType.subreddit) {\n\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode, localSearch.value)\n\n\t\t\tsuggestions && setSearchSuggestions(suggestions)\n\t\t} else {\n\t\t\tif (localSearch.mode === searchType.channel) {\n\t\t\t\tif (channelSuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(channelSuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetChannelSuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (localSearch.mode === searchType.category) {\n\t\t\t\tif (categorySuggestions.length > 0) {\n\t\t\t\t\tsetSearchSuggestions(categorySuggestions)\n\t\t\t\t} else {\n\t\t\t\t\tconst suggestions: any = await getSuggestions(localSearch.mode)\n\t\t\t\t\tif (suggestions.length > 0) {\n\t\t\t\t\t\tsetSearchSuggestions(suggestions)\n\t\t\t\t\t\tsetCategorySuggestions(suggestions)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [categorySuggestions, channelSuggestions, localSearch.mode, localSearch.value])\n\n\tuseEffect(() => {\n\t\tupdateSuggestions()\n\t}, [updateSuggestions])\n\n\tconst formSubmit = async (e: React.MouseEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\tlet value = localSearch.value\n\n\t\tif (localSearch.mode === searchType.subreddit) value = localSearch.sort\n\n\t\thistory.push(`/${localSearch.mode}/${localSearch.timePeriod}/${value}`)\n\t}\n\n\tconst handleSearchTypeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as searchType\n\n\t\tsetLocalSearch({ ...localSearch, mode: val })\n\t}\n\n\tconst handleTimePeriodChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as apiTimePeriod\n\n\t\tsetLocalSearch({ ...localSearch, timePeriod: val })\n\t}\n\n\tconst handleSearchChange = async (e: React.FormEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value\n\t\tsetLocalSearch({ ...localSearch, value: val.replace('/', '') })\n\t}\n\n\tconst handleSortChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.currentTarget.value as sortType\n\n\t\tsetLocalSearch({ ...localSearch, sort: val })\n\t}\n\n\treturn (\n\t\t<div className='search-container'>\n\t\t\t<h2 className='text-intro'>\n\t\t\t\tWatch the best Twitch Clips from your favourite content creators without interruptions\n\t\t\t</h2>\n\t\t\t<form>\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Search Clips by</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-channel'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Channel'\n\t\t\t\t\t\tvalue={searchType.channel}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.channel}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-category'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='Category/Game'\n\t\t\t\t\t\tvalue={searchType.category}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.category}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='searchType-lsf'\n\t\t\t\t\t\tname='search-type'\n\t\t\t\t\t\tlabel='LiveStreamFail'\n\t\t\t\t\t\tvalue={searchType.subreddit}\n\t\t\t\t\t\tonChange={handleSearchTypeChange}\n\t\t\t\t\t\tchecked={localSearch.mode === searchType.subreddit}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{localSearch.mode === searchType.subreddit && (\n\t\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t\t<h2 className='title-lg'>Sort by</h2>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-popular'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Popular Now'\n\t\t\t\t\t\t\tvalue={sortType.hot}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.hot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-top'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Votes'\n\t\t\t\t\t\t\tvalue={sortType.top}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.top}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\t\tid='sort-new'\n\t\t\t\t\t\t\tname='sort'\n\t\t\t\t\t\t\tlabel='Most Recent'\n\t\t\t\t\t\t\tvalue={sortType.new}\n\t\t\t\t\t\t\tonChange={handleSortChange}\n\t\t\t\t\t\t\tchecked={localSearch.sort === sortType.new}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{localSearch.mode !== searchType.subreddit || (localSearch.mode === searchType.subreddit && localSearch.sort === sortType.top) ? (\n\t\t\t\t<div className='inputs-group'>\n\t\t\t\t\t<h2 className='title-lg'>Filter by</h2>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-day'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Day'\n\t\t\t\t\t\tvalue={apiTimePeriod.day}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.day}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-week'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Week'\n\t\t\t\t\t\tvalue={apiTimePeriod.week}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.week}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-month'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Month'\n\t\t\t\t\t\tvalue={apiTimePeriod.month}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.month}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-year'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='Year'\n\t\t\t\t\t\tvalue={apiTimePeriod.year}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.year}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioCustom\n\t\t\t\t\t\tid='timePeriod-all'\n\t\t\t\t\t\tname='timePeriod'\n\t\t\t\t\t\tlabel='All'\n\t\t\t\t\t\tvalue={apiTimePeriod.all}\n\t\t\t\t\t\tonChange={handleTimePeriodChange}\n\t\t\t\t\t\tchecked={localSearch.timePeriod === apiTimePeriod.all}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t): null}\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='input-main-search'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\tlocalSearch.mode === searchType.channel\n\t\t\t\t\t\t\t\t? 'Insert the channel name'\n\t\t\t\t\t\t\t\t: 'Insert the category/game name'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={localSearch.value}\n\t\t\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName='button-generic'\n\t\t\t\t\tonClick={formSubmit}\n\t\t\t\t\tdisabled={localSearch.value === '' && localSearch.mode !== searchType.subreddit}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</button>\n\n\t\t\t\t{localSearch.mode !== searchType.subreddit && (\n\t\t\t\t\t<Suggestions suggestions={searchSuggestions} localSearch={localSearch} />\n\t\t\t\t)}\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default Search\n","export default __webpack_public_path__ + \"static/media/logo-twitch.ad99d699.svg\";","import React, { FC } from 'react'\nimport './loader.scss'\n\ninterface Props {\n\tvisible: string\n}\n\nconst Loader: FC<Props> = ({ visible }) => {\n\treturn <div className={`loader ${visible}`}>Loading...</div>\n}\n\nexport default Loader\n","import { XIcon } from \"@primer/octicons-react\"\nimport { FC } from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst PlayerError: FC = () => {\n\treturn (\n\t\t<div className='error-container'>\n\t\t\t<XIcon size={48} />\n\t\t\t<p className='error-description'>\n\t\t\t\tWe couldn't find any clips for your Search.\n\t\t\t\t<br />\n\t\t\t\tThe game/user might not exist or they might not have any clips in the selected period.\n\t\t\t\t<br /> Users that are currently suspended also have their clips disabled.\n\t\t\t</p>\n\t\t\t<Link to='/' className='button-generic'>\n\t\t\t\tNew Search\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default PlayerError\n","import { FC } from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst PlayerFinished: FC = () => {\n\treturn (\n\t\t<div className='error-container'>\n\t\t\t<p className='error-description'>\n\t\t\t\tYou have reached the final clip for the current search\n\t\t\t</p>\n\t\t\t<Link to='/' className='button-generic'>\n\t\t\t\tNew Search\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default PlayerFinished\n","import { FC } from 'react'\nimport { ResponseClip } from 'src/types/twitch'\n\ninterface Props {\n\tcurrentClip: ResponseClip\n}\n\nconst CommentsBox: FC<Props> = ({ currentClip }) => {\n\treturn (\n\t\t<div className='comments-box'>\n\t\t\t<div className='comments-container'>\n\t\t\t\t{currentClip.comments?.map(({ comment, author }, index) => (\n\t\t\t\t\t<div className='comments-item' key={index}>\n\t\t\t\t\t\t<span className='comment-author'>{`/u/${author}`}</span>\n\t\t\t\t\t\t<p>{comment}</p>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t{currentClip.comments_url && (\n\t\t\t\t<a\n\t\t\t\t\tclassName='link-comments'\n\t\t\t\t\thref={`https://reddit.com${currentClip.comments_url}`}\n\t\t\t\t\ttarget='_blank'\n\t\t\t\t\trel='noreferrer'\n\t\t\t\t\ttitle='clip comments'\n\t\t\t\t>\n\t\t\t\t\tSee All Comments\n\t\t\t\t</a>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default CommentsBox\n","import { FC, useCallback, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getClips } from 'src/common/api'\nimport {\n\tsetClipIndex,\n\tsetClips,\n\tsetCurrentClip,\n\tsetCurrentSearch,\n\tsetFavourites,\n\tupdateClips,\n} from 'src/state/reducer'\nimport { useStateValue } from 'src/state/state'\nimport { searchClips } from 'src/types/search'\nimport { ChevronRightIcon, CommentIcon, ScreenFullIcon } from '@primer/octicons-react'\nimport twitchLogo from '../../assets/logo-twitch.svg'\nimport ReactGA from 'react-ga'\n\nimport './player.scss'\nimport 'src/styles/button-generic.scss'\n\nimport Loader from '../common/loader/Loader'\nimport { addFavourite, getFavourites } from 'src/common/localstorage'\nimport PlayerError from './PlayerError'\nimport PlayerFinished from './PlayerFinished'\nimport CommentsBox from './CommentsBox'\n\nconst Player: FC = () => {\n\tconst [{ clips, currentClip, clipIndex, currentSearch }, dispatch] = useStateValue()\n\tconst [transition, setTransition] = useState('loading')\n\tconst [error, setError] = useState(false)\n\tconst [finished, setFinished] = useState(false)\n\tconst [videoMaxWidth, setVideoMaxWidth] = useState(1200)\n\tconst [loadingClips, setLoadingClips] = useState(false)\n\tconst [commentsVisible, setCommentsVisible] = useState(true)\n\tconst [fullscreen, setFullscreen] = useState(false)\n\tconst params = useParams<searchClips>()\n\n\tuseEffect(() => {\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [params])\n\n\tuseEffect(() => {\n\t\tsetTransition('loading')\n\n\t\tconst getdata = async () => {\n\t\t\tdispatch(setClipIndex(0))\n\t\t\tdispatch(setCurrentSearch(params))\n\n\t\t\tconst data = await getClips(params)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tsetError(true)\n\t\t\t\tsetTransition('')\n\t\t\t} else {\n\t\t\t\tdispatch(setClips(data))\n\t\t\t\tdispatch(setCurrentClip(data.data[0]))\n\t\t\t\tsetFinished(false)\n\t\t\t\tawait addFavourite(params)\n\t\t\t\tconst favouritesRes = await getFavourites()\n\n\t\t\t\tdispatch(setFavourites(favouritesRes))\n\t\t\t}\n\t\t}\n\n\t\tgetdata()\n\n\t\treturn () => {\n\t\t\tdispatch(\n\t\t\t\tsetCurrentClip({\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tvideo_url: '',\n\t\t\t\t\ttwitch_url: '',\n\t\t\t\t\tcomments_url: '',\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetTransition('loading')\n\t\t}\n\t}, [dispatch, params])\n\n\tconst nextClip = useCallback(\n\t\t(direction?: string) => {\n\t\t\tconst clipsData = clips.data\n\t\t\tconst newClipIndex = direction === 'prev' ? clipIndex - 1 : clipIndex + 1\n\n\t\t\tif (direction === 'prev' && clipIndex <= 0) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tif (newClipIndex + 1 <= clips.data.length) {\n\t\t\t\t//Twitch pagination sometimes sends the same clip as the last in the payload and first in the next\n\t\t\t\tif (clipsData[clipIndex].video_url === clipsData[newClipIndex].video_url) {\n\t\t\t\t\tnextClip()\n\t\t\t\t} else {\n\t\t\t\t\tsetTransition('loading')\n\t\t\t\t\tsetFinished(false)\n\n\t\t\t\t\tdispatch(setCurrentClip(clipsData[newClipIndex]))\n\t\t\t\t\tdispatch(setClipIndex(newClipIndex))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetFinished(true)\n\t\t\t\tsetTransition('')\n\t\t\t}\n\t\t},\n\t\t[clipIndex, clips, dispatch]\n\t)\n\n\tconst loadMoreClips = useCallback(async () => {\n\t\tconst after = clips.pagination.cursor\n\t\tif (after !== '' && !loadingClips) {\n\t\t\tsetLoadingClips(true)\n\t\t\tconst data = await getClips(currentSearch, after)\n\n\t\t\tif ('error' in data) {\n\t\t\t\tconsole.log(data.error)\n\t\t\t} else {\n\t\t\t\tdispatch(updateClips(data))\n\t\t\t\tsetLoadingClips(false)\n\t\t\t}\n\t\t}\n\t}, [clips.pagination.cursor, currentSearch, dispatch, loadingClips])\n\n\tuseEffect(() => {\n\t\tconst clipsTotal = clips.data.length\n\t\t//Starts the Autoplay if the clips have been set and none has played yet\n\t\tif (clipsTotal > 0 && clipIndex === -1) {\n\t\t\tnextClip()\n\t\t}\n\n\t\t//When there are clips and the currentClip is reaching the last fetch more\n\t\t//------Todo - Increase Margin before deploy\n\t\tif (clipsTotal > 0 && clipIndex + 3 > clipsTotal) {\n\t\t\tloadMoreClips()\n\t\t}\n\t}, [clips, clipIndex, nextClip, loadMoreClips])\n\n\tuseEffect(() => {\n\t\tconst updateVideoSize = () => {\n\t\t\tconst video = document.querySelector('.player-container video')\n\t\t\tconst vh = window.innerHeight\n\t\t\tconst vw = window.innerWidth\n\n\t\t\tif (video && vw > 1000) {\n\t\t\t\tsetVideoMaxWidth((vh - 200) * 1.69)\n\t\t\t}\n\t\t}\n\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tif (e.key === 'ArrowLeft') {\n\t\t\t\tnextClip('prev')\n\t\t\t}\n\n\t\t\tif (e.key === 'ArrowRight') {\n\t\t\t\tnextClip()\n\t\t\t}\n\t\t}\n\n\t\tupdateVideoSize()\n\n\t\twindow.onresize = updateVideoSize\n\t\twindow.onkeydown = handleKeyDown\n\t}, [nextClip])\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={`player-container ${commentsVisible && currentClip.comments ? 'has-comments' : ''} ${\n\t\t\t\t\tfullscreen ? 'is-fullscreen' : ''\n\t\t\t\t}`}\n\t\t\t\tstyle={{ maxWidth: videoMaxWidth }}\n\t\t\t>\n\t\t\t\t{finished && <PlayerFinished />}\n\t\t\t\t{currentClip.video_url && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='video-controls'>\n\t\t\t\t\t\t\t<h4 className='title-lg'>{currentClip.title}</h4>\n\n\t\t\t\t\t\t\t<div className='right-container'>\n\t\t\t\t\t\t\t\t{currentClip.twitch_url && (\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName='link-twitch'\n\t\t\t\t\t\t\t\t\t\thref={`${currentClip.twitch_url}`}\n\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\trel='noreferrer'\n\t\t\t\t\t\t\t\t\t\ttitle='clip twitch page'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img className='' width='25' src={twitchLogo} alt='twitch logo' />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='toggle-fullscreen'\n\t\t\t\t\t\t\t\t\ttitle='toggle fullscreen'\n\t\t\t\t\t\t\t\t\tonClick={() => setFullscreen(!fullscreen)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ScreenFullIcon size={20} />\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t{currentClip.comments && (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='toggle-comments'\n\t\t\t\t\t\t\t\t\t\ttitle='toggle comments'\n\t\t\t\t\t\t\t\t\t\tonClick={() => setCommentsVisible(!commentsVisible)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CommentIcon size={20} />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-left'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip('prev')}\n\t\t\t\t\t\t\t\t\tdisabled={clipIndex <= 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn-clips-control btn-right'\n\t\t\t\t\t\t\t\t\tonClick={() => nextClip()}\n\t\t\t\t\t\t\t\t\tdisabled={clips.data.length <= clipIndex + 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t\t\t<i className='icon-container'>\n\t\t\t\t\t\t\t\t\t\t<ChevronRightIcon size={20} />\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='video-comments-wrapper'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\tclassName={transition}\n\t\t\t\t\t\t\t\t\tsrc={currentClip.video_url}\n\t\t\t\t\t\t\t\t\tautoPlay={true}\n\t\t\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\t\t\tonEnded={() => nextClip()}\n\t\t\t\t\t\t\t\t\tonLoadedData={() => setTransition('')}\n\t\t\t\t\t\t\t\t\tonError={() => nextClip()}\n\t\t\t\t\t\t\t\t></video>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{currentClip.comments && transition !== 'loading' ? (\n\t\t\t\t\t\t\t\t<CommentsBox currentClip={currentClip}></CommentsBox>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{error && <PlayerError />}\n\n\t\t\t\t<Loader visible={transition} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Player\n","import React, { FC } from 'react'\nimport { DeviceCameraVideoIcon } from '@primer/octicons-react'\nimport './logoMain.scss'\nimport { Link } from 'react-router-dom'\n\nconst LogoMain: FC = () => {\n\treturn (\n\t\t<>\n\t\t\t<h1 className='logo-main'>\n\t\t\t\t<Link to='/'>\n\t\t\t\t\tClips <DeviceCameraVideoIcon size={36} /> Autoplay\n\t\t\t\t</Link>\n\t\t\t</h1>\n\t\t</>\n\t)\n}\n\nexport default LogoMain\n","import { Route, Switch } from 'react-router'\nimport Sidebar from './components/sidebar/Sidebar'\nimport Search from './components/search/Search'\nimport Player from './components/videoplayer/Player'\nimport './styles/App.scss'\nimport LogoMain from './components/logoMain/LogoMain'\nimport ReactGA from 'react-ga'\nimport { createBrowserHistory } from 'history'\nimport { useEffect } from 'react'\n\nReactGA.initialize('UA-200630534-1')\nconst browserHistory = createBrowserHistory()\n\nbrowserHistory.listen((location, action) => {\n\tReactGA.pageview(location.pathname + location.search)\n})\n\nconst App: React.FC = () => {\n\tuseEffect(() => {\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [])\n\treturn (\n\t\t<>\n\t\t\t<Sidebar />\n\t\t\t<main className='main-content'>\n\t\t\t\t<LogoMain />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/:mode/:timePeriod/:value?'>\n\t\t\t\t\t\t<Player />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport { reducer } from './state/reducer'\nimport { StateProvider } from './state/state'\nrequire('dotenv').config()\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<StateProvider reducer={reducer}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</StateProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}